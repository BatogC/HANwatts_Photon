\hypertarget{2020__photon__code_8cpp}{}\section{src/2020\+\_\+photon\+\_\+code.cpp File Reference}
\label{2020__photon__code_8cpp}\index{src/2020\+\_\+photon\+\_\+code.\+cpp@{src/2020\+\_\+photon\+\_\+code.\+cpp}}
{\ttfamily \#include \char`\"{}Particle.\+h\char`\"{}}\newline
{\ttfamily \#include $<$M\+Q\+T\+T.\+h$>$}\newline
{\ttfamily \#include $<$M\+F\+R\+C522.\+h$>$}\newline
{\ttfamily \#include \char`\"{}Commandparser.\+h\char`\"{}}\newline
{\ttfamily \#include $<$Json\+Parser\+Generator\+R\+K.\+h$>$}\newline
Include dependency graph for 2020\+\_\+photon\+\_\+code.cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{2020__photon__code_8cpp__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{2020__photon__code_8cpp_aff16429df21a43a886f66fdbc1e850a1}{C\+H\+A\+R\+G\+E\+R\+O\+F\+F\+S\+ET}~0
\begin{DoxyCompactList}\small\item\em constant that sets for which Photon this program is intended \end{DoxyCompactList}\item 
\#define \hyperlink{2020__photon__code_8cpp_acbc24b500df51b97ae92c398a78f2257}{D\+E\+B\+U\+G\+P\+O\+RT}~Serial
\item 
\#define \hyperlink{2020__photon__code_8cpp_aa62b9ad8e9fe9cb8780b8f27c509baaf}{S\+I\+Z\+E\+O\+F\+U\+S\+E\+R\+L\+I\+ST}~2
\item 
\#define \hyperlink{2020__photon__code_8cpp_a1e87c855c31041a5f4bca41f110ecb23}{S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R1}~A1
\item 
\#define \hyperlink{2020__photon__code_8cpp_a5cb1ec604593003ff86b9e36162aeb1a}{S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R2}~A2
\item 
\#define \hyperlink{2020__photon__code_8cpp_a36932b0e869e0114f32e255f61306d6b}{R\+S\+T\+\_\+\+P\+IN}~A0
\item 
\#define \hyperlink{2020__photon__code_8cpp_a7466c8664394caedeaf8797c447f296a}{E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+1}~D0
\item 
\#define \hyperlink{2020__photon__code_8cpp_a9ef1c29e6e7bcbc882a9516aa991450c}{E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+2}~D1
\item 
\#define \hyperlink{2020__photon__code_8cpp_a43dce6a6e56f62f028f06dffd7731dbd}{E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+3}~D3
\item 
\#define \hyperlink{2020__photon__code_8cpp_a67e476f839a040379490a06939ebac31}{W\+A\+K\+E\+U\+P\+\_\+\+O\+L\+I\+M\+EX}~D2
\item 
\#define \hyperlink{2020__photon__code_8cpp_ac12b65d6887bad87a0b5a519bba88dbe}{R\+E\+S\+E\+T\+\_\+\+O\+L\+I\+M\+EX}~D4
\item 
\#define \hyperlink{2020__photon__code_8cpp_a17398a9ea4c977d65d45016629ac4b62}{P\+I\+L\+O\+T\+\_\+\+F\+E\+E\+D\+B\+A\+C\+K\+\_\+\+C\+A\+R\+\_\+1}~A6
\item 
\#define \hyperlink{2020__photon__code_8cpp_a5f0a51ff733ab3850f902312bc66e821}{P\+I\+L\+O\+T\+\_\+\+F\+E\+E\+D\+B\+A\+C\+K\+\_\+\+C\+A\+R\+\_\+2}~A7
\item 
\#define \hyperlink{2020__photon__code_8cpp_ad9c4f7d10f64d91b939705d74023b303}{A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+C\+A\+R1}~D5
\item 
\#define \hyperlink{2020__photon__code_8cpp_a2a2d5c06c6e46098cf951476de493799}{A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+C\+A\+R2}~D6
\item 
\#define \hyperlink{2020__photon__code_8cpp_af4d98da13b92f926914c4a759759b393}{E\+X\+T\+RA}~D7
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{2020__photon__code_8cpp_aea090791790fbe9e0f56d324c8eefa80}{reset\+Olimex} (\hyperlink{class_string}{String} input)
\begin{DoxyCompactList}\small\item\em Sends reset signal to EV charger controller. \end{DoxyCompactList}\item 
int \hyperlink{2020__photon__code_8cpp_adc2cf5dea5b7775d53532f2ccfa10f4c}{Wifi\+Signal} (\hyperlink{class_string}{String} input)
\begin{DoxyCompactList}\small\item\em Return wifi strength. \end{DoxyCompactList}\item 
int \hyperlink{2020__photon__code_8cpp_ad62b79073819df234fbe97fd477a2c83}{reset\+Particle} (\hyperlink{class_string}{String} input)
\begin{DoxyCompactList}\small\item\em Resets Photon. \end{DoxyCompactList}\item 
int \hyperlink{2020__photon__code_8cpp_ad7dc0d6376ca803542168e9adc0dec79}{prog\+Mode\+Olmx} (\hyperlink{class_string}{String} input)
\begin{DoxyCompactList}\small\item\em Sets Olimex into programming mode. \end{DoxyCompactList}\item 
void \hyperlink{2020__photon__code_8cpp_acd7da18abdd273f892ec13cb726810b6}{blink\+R\+F\+I\+Dled} (int charger, int action)
\begin{DoxyCompactList}\small\item\em unused function to blink the Photon L\+ED \end{DoxyCompactList}\item 
int \hyperlink{2020__photon__code_8cpp_a18aecc3313a2e8b7a2a4d49759585f63}{active\+Charger} ()
\begin{DoxyCompactList}\small\item\em Return 1 if socket 1 is used, 2 if socket 2 is used, and 3 if both are in use. \end{DoxyCompactList}\item 
int \hyperlink{2020__photon__code_8cpp_ad0790b5517da1ecc7d9b128f1c5876a5}{switch\+Test} (\hyperlink{class_string}{String} value\+String)
\begin{DoxyCompactList}\small\item\em Switches between renewable mode (-\/input \char`\"{}true\char`\"{}) and manual setpoint mode. \end{DoxyCompactList}\item 
int \hyperlink{2020__photon__code_8cpp_aa95a87dbf10d08c2472e2060115a786d}{max\+Current\+C1} (\hyperlink{class_string}{String} set\+Point\+Str)
\begin{DoxyCompactList}\small\item\em Sets max Current output at socket 1 in manual mode. \end{DoxyCompactList}\item 
int \hyperlink{2020__photon__code_8cpp_a33435c28a8a11141750280aec8f15cbd}{max\+Current\+C2} (\hyperlink{class_string}{String} set\+Point\+Str)
\begin{DoxyCompactList}\small\item\em Sets max Current output at socket 2 in manual mode. \end{DoxyCompactList}\item 
int \hyperlink{2020__photon__code_8cpp_acb83be59c559528f5aff6a05e307aba0}{max\+Current\+C1\+\_\+test} (unsigned int set\+Point)
\begin{DoxyCompactList}\small\item\em Sets max Current output at socket 1/3 in renewable mode and publishes new setpoint at \char`\"{}\+H\+A\+Nevse/photon\+Max\+C1\char`\"{} or C3. \end{DoxyCompactList}\item 
int \hyperlink{2020__photon__code_8cpp_aec0df453c6114acf2314a61fa0879eb7}{max\+Current\+C2\+\_\+test} (unsigned int set\+Point)
\begin{DoxyCompactList}\small\item\em Sets max Current output at socket 2/4 in renewable mode and publishes new setpoint at \char`\"{}\+H\+A\+Nevse/photon\+Max\+C2\char`\"{} or C4. \end{DoxyCompactList}\item 
\hyperlink{class_string}{String} \hyperlink{2020__photon__code_8cpp_a9e8e91d801c5f9812d2862fcc94153b3}{get\+User\+Id\+At\+Socket} (int socket)
\begin{DoxyCompactList}\small\item\em Returns R\+F\+ID tag at the asked socket. \end{DoxyCompactList}\item 
void \hyperlink{2020__photon__code_8cpp_a3019b040c98717baa7b6048ac7a35dd7}{allow\+User\+\_\+callback} (byte $\ast$payload, unsigned int length)
\begin{DoxyCompactList}\small\item\em Callback function to process and execute approval or denial to charge from Pi, then \hyperlink{class_m_q_t_t}{M\+Q\+TT} publish reason to website G\+UI. \end{DoxyCompactList}\item 
int \hyperlink{2020__photon__code_8cpp_abc7cbbf081849eefdbf3b2a2a5b63151}{init\+R\+F\+ID} (\hyperlink{class_string}{String} input)
\begin{DoxyCompactList}\small\item\em Initialises R\+F\+ID reader. \end{DoxyCompactList}\item 
bool \hyperlink{2020__photon__code_8cpp_a1b9d7ee6530be2853b10dee40dc3c02c}{read\+R\+F\+I\+D\+Card} (int Charger)
\begin{DoxyCompactList}\small\item\em Checks and reads R\+F\+ID tag at the asked socket, then \hyperlink{class_m_q_t_t}{M\+Q\+TT} publishes it for Pi. \end{DoxyCompactList}\item 
void \hyperlink{2020__photon__code_8cpp_a4fc01d736fe50cf5b977f755b675f11d}{setup} ()
\begin{DoxyCompactList}\small\item\em Inital setup for pin assignments and serial links start. \end{DoxyCompactList}\item 
void \hyperlink{2020__photon__code_8cpp_afe461d27b9c48d5921c00d521181f12f}{loop} ()
\begin{DoxyCompactList}\small\item\em Main running function that executes all other functions; runs over 5times/second. \end{DoxyCompactList}\item 
int \hyperlink{2020__photon__code_8cpp_a37df00aa4f5618514442945d509f5029}{read\+Serial\+Olimex} ()
\item 
void \hyperlink{2020__photon__code_8cpp_a3b8259e6f263afa75396d3f65d194a92}{reconnect} (void)
\begin{DoxyCompactList}\small\item\em Function to reconnect to \hyperlink{class_m_q_t_t}{M\+Q\+TT} server if not connected and subscribe to needed topics. \end{DoxyCompactList}\item 
void \hyperlink{2020__photon__code_8cpp_ac3a129f66dc859e2b7279565f4e1de78}{callback} (char $\ast$topic, byte $\ast$payload, unsigned int length)
\begin{DoxyCompactList}\small\item\em Main function for \hyperlink{class_m_q_t_t}{M\+Q\+TT} client to check for new messages and execute callback functions. \end{DoxyCompactList}\item 
void \hyperlink{2020__photon__code_8cpp_a4c5d5ea4f6d4b65954431d96e299d9bf}{char\+To\+String} (const char in\mbox{[}$\,$\mbox{]}, \hyperlink{class_string}{String} \&out)
\begin{DoxyCompactList}\small\item\em Deprecated function to convert char to \hyperlink{class_string}{String} -\/ the \hyperlink{class_string}{String} class already has one. \end{DoxyCompactList}\item 
void \hyperlink{2020__photon__code_8cpp_a63ba3c80c4eecc57f8ee73e2045b372f}{get\+Measure\+\_\+callback} (byte $\ast$payload, unsigned int length)
\begin{DoxyCompactList}\small\item\em Callback function to automatically set max Currents from \hyperlink{class_m_q_t_t}{M\+Q\+TT} message if in renewable mode. \end{DoxyCompactList}\item 
\hyperlink{2020__photon__code_8cpp_ad474dc90a6ac368a5be5a4e0d333c8b1}{S\+T\+A\+R\+T\+UP} (Wi\+Fi.\+select\+Antenna(A\+N\+T\+\_\+\+E\+X\+T\+E\+R\+N\+AL))
\item 
void \hyperlink{2020__photon__code_8cpp_aee241410f32d11f903417e0eb68d4bec}{add\+\_\+\+Measurement} (float phase\+Voltage\+L1, float phase\+Voltage\+L2, float phase\+Voltage\+L3, float current\+L1, float current\+L2, float current\+L3, float \hyperlink{_commandparser_8h_ad8ee7ca82dcb110d2d5e32d73116b001}{Frequency}, unsigned long Timestamp, int socket\+Id=0, \hyperlink{class_string}{String} user\+Id=\char`\"{}00\char`\"{})
\begin{DoxyCompactList}\small\item\em Function ran for each socket every 30s in main loop to send measurements through \hyperlink{class_m_q_t_t}{M\+Q\+TT}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
float \hyperlink{2020__photon__code_8cpp_ac7a5502c6bab0b1b7f3e1bd58546eb1e}{Current} \mbox{[}2\mbox{]}\mbox{[}3\mbox{]}
\item 
float \hyperlink{2020__photon__code_8cpp_ae0a1c20c390eb592307c92aa588bd232}{Power} \mbox{[}2\mbox{]}\mbox{[}3\mbox{]}
\item 
float \hyperlink{2020__photon__code_8cpp_a5455bcadf3414330eeedd39d97e8aee2}{Phase\+Voltage} \mbox{[}2\mbox{]}\mbox{[}3\mbox{]}
\item 
float \hyperlink{2020__photon__code_8cpp_a97cf7b62d84c77183146053465157cdc}{Line\+Voltage} \mbox{[}2\mbox{]}\mbox{[}3\mbox{]}
\item 
float \hyperlink{2020__photon__code_8cpp_aee63a73e17fd417c7562f2e5d7c81cb8}{Energy} \mbox{[}2\mbox{]}
\item 
float \hyperlink{2020__photon__code_8cpp_ad8ee7ca82dcb110d2d5e32d73116b001}{Frequency} \mbox{[}2\mbox{]}
\item 
float \hyperlink{2020__photon__code_8cpp_acd950d6d9d76947b74823343a5f4a25d}{Current\+List} \mbox{[}20\mbox{]}
\item 
int \hyperlink{2020__photon__code_8cpp_ab804d1dfcf90d1a4adf1b6417583e014}{number\+Of\+Zero\+Readings} \mbox{[}2\mbox{]}
\item 
\hyperlink{class_string}{String} \hyperlink{2020__photon__code_8cpp_ad7696488afa62029edaf7487c0c32979}{U\+I\+Dtag\+Charger1} =\char`\"{}No ID\char`\"{}
\begin{DoxyCompactList}\small\item\em var to hold swiped R\+F\+ID tag at first socket \end{DoxyCompactList}\item 
\hyperlink{class_string}{String} \hyperlink{2020__photon__code_8cpp_ae42c45149b41b8f8cee744bb45a607ea}{U\+I\+Dtag\+Charger2} =\char`\"{}No ID\char`\"{}
\begin{DoxyCompactList}\small\item\em var to hold swiped R\+F\+ID tag at second socket \end{DoxyCompactList}\item 
\hyperlink{class_m_q_t_t}{M\+Q\+TT} \hyperlink{2020__photon__code_8cpp_adb31c248dea8d23a099aa0dad886c3a5}{client} (\char`\"{}broker.\+hivemq.\+com\char`\"{}, 1883, M\+Q\+T\+T\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+K\+E\+E\+P\+A\+L\+I\+VE, \hyperlink{2020__photon__code_8cpp_ac3a129f66dc859e2b7279565f4e1de78}{callback}, 512)
\begin{DoxyCompactList}\small\item\em \hyperlink{class_m_q_t_t}{M\+Q\+TT} client details; do not set last number to over 512! \end{DoxyCompactList}\item 
\hyperlink{class_string}{String} \hyperlink{2020__photon__code_8cpp_a3f4173fd4828d1d948935a30e1841263}{test} = \char`\"{}0\char`\"{}
\item 
int \hyperlink{2020__photon__code_8cpp_a617a47c70795bcff659815ad0efd2266}{counter} =1
\item 
\hyperlink{class_m_f_r_c522}{M\+F\+R\+C522} \hyperlink{2020__photon__code_8cpp_a1777032818666232368a054cc7cc76f8}{mfrc522\+\_\+\+Charger1} (\hyperlink{2020__photon__code_8cpp_a1e87c855c31041a5f4bca41f110ecb23}{S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R1}, \hyperlink{2020__photon__code_8cpp_a36932b0e869e0114f32e255f61306d6b}{R\+S\+T\+\_\+\+P\+IN})
\item 
\hyperlink{class_m_f_r_c522}{M\+F\+R\+C522} \hyperlink{2020__photon__code_8cpp_a3dfbf949915a0daa4ff676106f605085}{mfrc522\+\_\+\+Charger2} (\hyperlink{2020__photon__code_8cpp_a5cb1ec604593003ff86b9e36162aeb1a}{S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R2}, \hyperlink{2020__photon__code_8cpp_a36932b0e869e0114f32e255f61306d6b}{R\+S\+T\+\_\+\+P\+IN})
\item 
unsigned long \hyperlink{2020__photon__code_8cpp_ad9f162f714be8b69815d0a235c95c099}{Latest\+Start\+Time} \mbox{[}2\mbox{]} =\{0,0\}
\begin{DoxyCompactList}\small\item\em Holds latest start of new charge if charger is in use. \end{DoxyCompactList}\item 
bool \hyperlink{2020__photon__code_8cpp_a9e450e39c6f4d83b30ab1c7baf55b308}{handled\+Charger} =0
\begin{DoxyCompactList}\small\item\em Holds last handled socket (0 for first socket) \end{DoxyCompactList}\item 
\hyperlink{class_string}{String} \hyperlink{2020__photon__code_8cpp_abc87df2ac47aa12b30692fd38255d367}{Share\+Var}
\item 
bool \hyperlink{2020__photon__code_8cpp_a570e0c09591b015ae3748de87e467b9f}{T\+E\+S\+T\+C\+A\+SE} = false
\begin{DoxyCompactList}\small\item\em var that holds the charging mode (T\+R\+UE = renewable) \end{DoxyCompactList}\item 
ushort \hyperlink{2020__photon__code_8cpp_a0cb29d1e3bc87d74d13737e494738243}{Pianswer} =0
\begin{DoxyCompactList}\small\item\em var that holds answer from Pi but is unused now \end{DoxyCompactList}\item 
\hyperlink{class_string}{String} \hyperlink{2020__photon__code_8cpp_a3cc9a3f799bf2e4bf1b63ee7367911cb}{current\+Str} =\char`\"{}\char`\"{}
\item 
unsigned int \hyperlink{2020__photon__code_8cpp_a4e589466e8ba636e450e90122ed59185}{next\+Time} \mbox{[}2\mbox{]} = \{30000,30000\}
\begin{DoxyCompactList}\small\item\em Next timestamp to publish measurements in ms. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{2020__photon__code_8cpp_ad9c4f7d10f64d91b939705d74023b303}\label{2020__photon__code_8cpp_ad9c4f7d10f64d91b939705d74023b303}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+C\+A\+R1@{A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+C\+A\+R1}}
\index{A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+C\+A\+R1@{A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+C\+A\+R1}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+C\+A\+R1}{AUTHENTICATION\_CAR1}}
{\footnotesize\ttfamily \#define A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+C\+A\+R1~D5}



Definition at line 76 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_a2a2d5c06c6e46098cf951476de493799}\label{2020__photon__code_8cpp_a2a2d5c06c6e46098cf951476de493799}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+C\+A\+R2@{A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+C\+A\+R2}}
\index{A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+C\+A\+R2@{A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+C\+A\+R2}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+C\+A\+R2}{AUTHENTICATION\_CAR2}}
{\footnotesize\ttfamily \#define A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+C\+A\+R2~D6}



Definition at line 77 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_aff16429df21a43a886f66fdbc1e850a1}\label{2020__photon__code_8cpp_aff16429df21a43a886f66fdbc1e850a1}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!C\+H\+A\+R\+G\+E\+R\+O\+F\+F\+S\+ET@{C\+H\+A\+R\+G\+E\+R\+O\+F\+F\+S\+ET}}
\index{C\+H\+A\+R\+G\+E\+R\+O\+F\+F\+S\+ET@{C\+H\+A\+R\+G\+E\+R\+O\+F\+F\+S\+ET}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{C\+H\+A\+R\+G\+E\+R\+O\+F\+F\+S\+ET}{CHARGEROFFSET}}
{\footnotesize\ttfamily \#define C\+H\+A\+R\+G\+E\+R\+O\+F\+F\+S\+ET~0}



constant that sets for which Photon this program is intended 

For Photon 1 set it to 0, for Photon 2 set to 2. Any more and program would need to be edited. 

Definition at line 59 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_acbc24b500df51b97ae92c398a78f2257}\label{2020__photon__code_8cpp_acbc24b500df51b97ae92c398a78f2257}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!D\+E\+B\+U\+G\+P\+O\+RT@{D\+E\+B\+U\+G\+P\+O\+RT}}
\index{D\+E\+B\+U\+G\+P\+O\+RT@{D\+E\+B\+U\+G\+P\+O\+RT}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{D\+E\+B\+U\+G\+P\+O\+RT}{DEBUGPORT}}
{\footnotesize\ttfamily \#define D\+E\+B\+U\+G\+P\+O\+RT~Serial}



Definition at line 60 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_af4d98da13b92f926914c4a759759b393}\label{2020__photon__code_8cpp_af4d98da13b92f926914c4a759759b393}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!E\+X\+T\+RA@{E\+X\+T\+RA}}
\index{E\+X\+T\+RA@{E\+X\+T\+RA}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{E\+X\+T\+RA}{EXTRA}}
{\footnotesize\ttfamily \#define E\+X\+T\+RA~D7}



Definition at line 78 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_a7466c8664394caedeaf8797c447f296a}\label{2020__photon__code_8cpp_a7466c8664394caedeaf8797c447f296a}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+1@{E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+1}}
\index{E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+1@{E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+1}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+1}{EXTRA\_DIGITAL\_BREAKOUT\_1}}
{\footnotesize\ttfamily \#define E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+1~D0}



Definition at line 69 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_a9ef1c29e6e7bcbc882a9516aa991450c}\label{2020__photon__code_8cpp_a9ef1c29e6e7bcbc882a9516aa991450c}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+2@{E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+2}}
\index{E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+2@{E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+2}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+2}{EXTRA\_DIGITAL\_BREAKOUT\_2}}
{\footnotesize\ttfamily \#define E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+2~D1}



Definition at line 70 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_a43dce6a6e56f62f028f06dffd7731dbd}\label{2020__photon__code_8cpp_a43dce6a6e56f62f028f06dffd7731dbd}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+3@{E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+3}}
\index{E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+3@{E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+3}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+3}{EXTRA\_DIGITAL\_BREAKOUT\_3}}
{\footnotesize\ttfamily \#define E\+X\+T\+R\+A\+\_\+\+D\+I\+G\+I\+T\+A\+L\+\_\+\+B\+R\+E\+A\+K\+O\+U\+T\+\_\+3~D3}



Definition at line 71 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_a17398a9ea4c977d65d45016629ac4b62}\label{2020__photon__code_8cpp_a17398a9ea4c977d65d45016629ac4b62}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!P\+I\+L\+O\+T\+\_\+\+F\+E\+E\+D\+B\+A\+C\+K\+\_\+\+C\+A\+R\+\_\+1@{P\+I\+L\+O\+T\+\_\+\+F\+E\+E\+D\+B\+A\+C\+K\+\_\+\+C\+A\+R\+\_\+1}}
\index{P\+I\+L\+O\+T\+\_\+\+F\+E\+E\+D\+B\+A\+C\+K\+\_\+\+C\+A\+R\+\_\+1@{P\+I\+L\+O\+T\+\_\+\+F\+E\+E\+D\+B\+A\+C\+K\+\_\+\+C\+A\+R\+\_\+1}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{P\+I\+L\+O\+T\+\_\+\+F\+E\+E\+D\+B\+A\+C\+K\+\_\+\+C\+A\+R\+\_\+1}{PILOT\_FEEDBACK\_CAR\_1}}
{\footnotesize\ttfamily \#define P\+I\+L\+O\+T\+\_\+\+F\+E\+E\+D\+B\+A\+C\+K\+\_\+\+C\+A\+R\+\_\+1~A6}



Definition at line 74 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_a5f0a51ff733ab3850f902312bc66e821}\label{2020__photon__code_8cpp_a5f0a51ff733ab3850f902312bc66e821}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!P\+I\+L\+O\+T\+\_\+\+F\+E\+E\+D\+B\+A\+C\+K\+\_\+\+C\+A\+R\+\_\+2@{P\+I\+L\+O\+T\+\_\+\+F\+E\+E\+D\+B\+A\+C\+K\+\_\+\+C\+A\+R\+\_\+2}}
\index{P\+I\+L\+O\+T\+\_\+\+F\+E\+E\+D\+B\+A\+C\+K\+\_\+\+C\+A\+R\+\_\+2@{P\+I\+L\+O\+T\+\_\+\+F\+E\+E\+D\+B\+A\+C\+K\+\_\+\+C\+A\+R\+\_\+2}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{P\+I\+L\+O\+T\+\_\+\+F\+E\+E\+D\+B\+A\+C\+K\+\_\+\+C\+A\+R\+\_\+2}{PILOT\_FEEDBACK\_CAR\_2}}
{\footnotesize\ttfamily \#define P\+I\+L\+O\+T\+\_\+\+F\+E\+E\+D\+B\+A\+C\+K\+\_\+\+C\+A\+R\+\_\+2~A7}



Definition at line 75 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_ac12b65d6887bad87a0b5a519bba88dbe}\label{2020__photon__code_8cpp_ac12b65d6887bad87a0b5a519bba88dbe}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!R\+E\+S\+E\+T\+\_\+\+O\+L\+I\+M\+EX@{R\+E\+S\+E\+T\+\_\+\+O\+L\+I\+M\+EX}}
\index{R\+E\+S\+E\+T\+\_\+\+O\+L\+I\+M\+EX@{R\+E\+S\+E\+T\+\_\+\+O\+L\+I\+M\+EX}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{R\+E\+S\+E\+T\+\_\+\+O\+L\+I\+M\+EX}{RESET\_OLIMEX}}
{\footnotesize\ttfamily \#define R\+E\+S\+E\+T\+\_\+\+O\+L\+I\+M\+EX~D4}



Definition at line 73 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_a36932b0e869e0114f32e255f61306d6b}\label{2020__photon__code_8cpp_a36932b0e869e0114f32e255f61306d6b}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!R\+S\+T\+\_\+\+P\+IN@{R\+S\+T\+\_\+\+P\+IN}}
\index{R\+S\+T\+\_\+\+P\+IN@{R\+S\+T\+\_\+\+P\+IN}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{R\+S\+T\+\_\+\+P\+IN}{RST\_PIN}}
{\footnotesize\ttfamily \#define R\+S\+T\+\_\+\+P\+IN~A0}



Definition at line 67 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_aa62b9ad8e9fe9cb8780b8f27c509baaf}\label{2020__photon__code_8cpp_aa62b9ad8e9fe9cb8780b8f27c509baaf}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!S\+I\+Z\+E\+O\+F\+U\+S\+E\+R\+L\+I\+ST@{S\+I\+Z\+E\+O\+F\+U\+S\+E\+R\+L\+I\+ST}}
\index{S\+I\+Z\+E\+O\+F\+U\+S\+E\+R\+L\+I\+ST@{S\+I\+Z\+E\+O\+F\+U\+S\+E\+R\+L\+I\+ST}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{S\+I\+Z\+E\+O\+F\+U\+S\+E\+R\+L\+I\+ST}{SIZEOFUSERLIST}}
{\footnotesize\ttfamily \#define S\+I\+Z\+E\+O\+F\+U\+S\+E\+R\+L\+I\+ST~2}



Definition at line 61 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_a1e87c855c31041a5f4bca41f110ecb23}\label{2020__photon__code_8cpp_a1e87c855c31041a5f4bca41f110ecb23}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R1@{S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R1}}
\index{S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R1@{S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R1}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R1}{SS\_PIN\_CHARGER1}}
{\footnotesize\ttfamily \#define S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R1~A1}



Definition at line 65 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_a5cb1ec604593003ff86b9e36162aeb1a}\label{2020__photon__code_8cpp_a5cb1ec604593003ff86b9e36162aeb1a}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R2@{S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R2}}
\index{S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R2@{S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R2}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R2}{SS\_PIN\_CHARGER2}}
{\footnotesize\ttfamily \#define S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R2~A2}



Definition at line 66 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_a67e476f839a040379490a06939ebac31}\label{2020__photon__code_8cpp_a67e476f839a040379490a06939ebac31}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!W\+A\+K\+E\+U\+P\+\_\+\+O\+L\+I\+M\+EX@{W\+A\+K\+E\+U\+P\+\_\+\+O\+L\+I\+M\+EX}}
\index{W\+A\+K\+E\+U\+P\+\_\+\+O\+L\+I\+M\+EX@{W\+A\+K\+E\+U\+P\+\_\+\+O\+L\+I\+M\+EX}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{W\+A\+K\+E\+U\+P\+\_\+\+O\+L\+I\+M\+EX}{WAKEUP\_OLIMEX}}
{\footnotesize\ttfamily \#define W\+A\+K\+E\+U\+P\+\_\+\+O\+L\+I\+M\+EX~D2}



Definition at line 72 of file 2020\+\_\+photon\+\_\+code.\+cpp.



\subsection{Function Documentation}
\mbox{\Hypertarget{2020__photon__code_8cpp_a18aecc3313a2e8b7a2a4d49759585f63}\label{2020__photon__code_8cpp_a18aecc3313a2e8b7a2a4d49759585f63}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!active\+Charger@{active\+Charger}}
\index{active\+Charger@{active\+Charger}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{active\+Charger()}{activeCharger()}}
{\footnotesize\ttfamily int active\+Charger (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Return 1 if socket 1 is used, 2 if socket 2 is used, and 3 if both are in use. 



Definition at line 195 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References Current.

\mbox{\Hypertarget{2020__photon__code_8cpp_aee241410f32d11f903417e0eb68d4bec}\label{2020__photon__code_8cpp_aee241410f32d11f903417e0eb68d4bec}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!add\+\_\+\+Measurement@{add\+\_\+\+Measurement}}
\index{add\+\_\+\+Measurement@{add\+\_\+\+Measurement}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{add\+\_\+\+Measurement()}{add\_Measurement()}}
{\footnotesize\ttfamily void add\+\_\+\+Measurement (\begin{DoxyParamCaption}\item[{float}]{phase\+Voltage\+L1,  }\item[{float}]{phase\+Voltage\+L2,  }\item[{float}]{phase\+Voltage\+L3,  }\item[{float}]{current\+L1,  }\item[{float}]{current\+L2,  }\item[{float}]{current\+L3,  }\item[{float}]{Frequency,  }\item[{unsigned long}]{Timestamp,  }\item[{int}]{socket\+Id = {\ttfamily 0},  }\item[{\hyperlink{class_string}{String}}]{user\+Id = {\ttfamily \char`\"{}00\char`\"{}} }\end{DoxyParamCaption})}



Function ran for each socket every 30s in main loop to send measurements through \hyperlink{class_m_q_t_t}{M\+Q\+TT}. 



Definition at line 510 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_a3019b040c98717baa7b6048ac7a35dd7}\label{2020__photon__code_8cpp_a3019b040c98717baa7b6048ac7a35dd7}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!allow\+User\+\_\+callback@{allow\+User\+\_\+callback}}
\index{allow\+User\+\_\+callback@{allow\+User\+\_\+callback}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{allow\+User\+\_\+callback()}{allowUser\_callback()}}
{\footnotesize\ttfamily void allow\+User\+\_\+callback (\begin{DoxyParamCaption}\item[{byte $\ast$}]{payload,  }\item[{unsigned int}]{length }\end{DoxyParamCaption})}



Callback function to process and execute approval or denial to charge from Pi, then \hyperlink{class_m_q_t_t}{M\+Q\+TT} publish reason to website G\+UI. 



Definition at line 438 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References client, String\+::concat(), String\+::operator=(), Pianswer, M\+Q\+T\+T\+::publish(), U\+I\+Dtag\+Charger1, and U\+I\+Dtag\+Charger2.

\mbox{\Hypertarget{2020__photon__code_8cpp_acd7da18abdd273f892ec13cb726810b6}\label{2020__photon__code_8cpp_acd7da18abdd273f892ec13cb726810b6}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!blink\+R\+F\+I\+Dled@{blink\+R\+F\+I\+Dled}}
\index{blink\+R\+F\+I\+Dled@{blink\+R\+F\+I\+Dled}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{blink\+R\+F\+I\+Dled()}{blinkRFIDled()}}
{\footnotesize\ttfamily void blink\+R\+F\+I\+Dled (\begin{DoxyParamCaption}\item[{int}]{charger,  }\item[{int}]{action }\end{DoxyParamCaption})}



unused function to blink the Photon L\+ED 



Definition at line 179 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_ac3a129f66dc859e2b7279565f4e1de78}\label{2020__photon__code_8cpp_ac3a129f66dc859e2b7279565f4e1de78}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!callback@{callback}}
\index{callback@{callback}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{callback()}{callback()}}
{\footnotesize\ttfamily void callback (\begin{DoxyParamCaption}\item[{char $\ast$}]{topic,  }\item[{byte $\ast$}]{payload,  }\item[{unsigned int}]{length }\end{DoxyParamCaption})}



Main function for \hyperlink{class_m_q_t_t}{M\+Q\+TT} client to check for new messages and execute callback functions. 



Definition at line 671 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References max\+Current\+C1(), max\+Current\+C2(), String\+::operator=(), reset\+Olimex(), reset\+Particle(), switch\+Test(), and test.

\mbox{\Hypertarget{2020__photon__code_8cpp_a4c5d5ea4f6d4b65954431d96e299d9bf}\label{2020__photon__code_8cpp_a4c5d5ea4f6d4b65954431d96e299d9bf}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!char\+To\+String@{char\+To\+String}}
\index{char\+To\+String@{char\+To\+String}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{char\+To\+String()}{charToString()}}
{\footnotesize\ttfamily void char\+To\+String (\begin{DoxyParamCaption}\item[{const char}]{in\mbox{[}$\,$\mbox{]},  }\item[{\hyperlink{class_string}{String} \&}]{out }\end{DoxyParamCaption})}



Deprecated function to convert char to \hyperlink{class_string}{String} -\/ the \hyperlink{class_string}{String} class already has one. 



Definition at line 140 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References String\+::operator=().

\mbox{\Hypertarget{2020__photon__code_8cpp_a63ba3c80c4eecc57f8ee73e2045b372f}\label{2020__photon__code_8cpp_a63ba3c80c4eecc57f8ee73e2045b372f}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!get\+Measure\+\_\+callback@{get\+Measure\+\_\+callback}}
\index{get\+Measure\+\_\+callback@{get\+Measure\+\_\+callback}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{get\+Measure\+\_\+callback()}{getMeasure\_callback()}}
{\footnotesize\ttfamily void get\+Measure\+\_\+callback (\begin{DoxyParamCaption}\item[{byte $\ast$}]{payload,  }\item[{unsigned int}]{length }\end{DoxyParamCaption})}



Callback function to automatically set max Currents from \hyperlink{class_m_q_t_t}{M\+Q\+TT} message if in renewable mode. 



Definition at line 316 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References max\+Current\+C1\+\_\+test(), and max\+Current\+C2\+\_\+test().

\mbox{\Hypertarget{2020__photon__code_8cpp_a9e8e91d801c5f9812d2862fcc94153b3}\label{2020__photon__code_8cpp_a9e8e91d801c5f9812d2862fcc94153b3}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!get\+User\+Id\+At\+Socket@{get\+User\+Id\+At\+Socket}}
\index{get\+User\+Id\+At\+Socket@{get\+User\+Id\+At\+Socket}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{get\+User\+Id\+At\+Socket()}{getUserIdAtSocket()}}
{\footnotesize\ttfamily \hyperlink{class_string}{String} get\+User\+Id\+At\+Socket (\begin{DoxyParamCaption}\item[{int}]{socket }\end{DoxyParamCaption})}



Returns R\+F\+ID tag at the asked socket. 



Definition at line 307 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References U\+I\+Dtag\+Charger1, and U\+I\+Dtag\+Charger2.

\mbox{\Hypertarget{2020__photon__code_8cpp_abc7cbbf081849eefdbf3b2a2a5b63151}\label{2020__photon__code_8cpp_abc7cbbf081849eefdbf3b2a2a5b63151}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!init\+R\+F\+ID@{init\+R\+F\+ID}}
\index{init\+R\+F\+ID@{init\+R\+F\+ID}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{init\+R\+F\+I\+D()}{initRFID()}}
{\footnotesize\ttfamily int init\+R\+F\+ID (\begin{DoxyParamCaption}\item[{\hyperlink{class_string}{String}}]{input }\end{DoxyParamCaption})}



Initialises R\+F\+ID reader. 



Definition at line 558 of file 2020\+\_\+photon\+\_\+code.\+cpp.



Referenced by setup().

\mbox{\Hypertarget{2020__photon__code_8cpp_afe461d27b9c48d5921c00d521181f12f}\label{2020__photon__code_8cpp_afe461d27b9c48d5921c00d521181f12f}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!loop@{loop}}
\index{loop@{loop}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{loop()}{loop()}}
{\footnotesize\ttfamily void loop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Main running function that executes all other functions; runs over 5times/second. 



Definition at line 879 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References client, handled\+Charger, M\+Q\+T\+T\+::is\+Connected(), Latest\+Start\+Time, M\+Q\+T\+T\+::loop(), String\+::operator=(), read\+R\+F\+I\+D\+Card(), read\+Serial\+Olimex(), reconnect(), U\+I\+Dtag\+Charger1, and U\+I\+Dtag\+Charger2.

\mbox{\Hypertarget{2020__photon__code_8cpp_aa95a87dbf10d08c2472e2060115a786d}\label{2020__photon__code_8cpp_aa95a87dbf10d08c2472e2060115a786d}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!max\+Current\+C1@{max\+Current\+C1}}
\index{max\+Current\+C1@{max\+Current\+C1}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{max\+Current\+C1()}{maxCurrentC1()}}
{\footnotesize\ttfamily int max\+Current\+C1 (\begin{DoxyParamCaption}\item[{\hyperlink{class_string}{String}}]{set\+Point\+Str }\end{DoxyParamCaption})}



Sets max Current output at socket 1 in manual mode. 



Definition at line 229 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References T\+E\+S\+T\+C\+A\+SE, and String\+::to\+Int().



Referenced by callback(), and switch\+Test().

\mbox{\Hypertarget{2020__photon__code_8cpp_acb83be59c559528f5aff6a05e307aba0}\label{2020__photon__code_8cpp_acb83be59c559528f5aff6a05e307aba0}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!max\+Current\+C1\+\_\+test@{max\+Current\+C1\+\_\+test}}
\index{max\+Current\+C1\+\_\+test@{max\+Current\+C1\+\_\+test}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{max\+Current\+C1\+\_\+test()}{maxCurrentC1\_test()}}
{\footnotesize\ttfamily int max\+Current\+C1\+\_\+test (\begin{DoxyParamCaption}\item[{unsigned int}]{set\+Point }\end{DoxyParamCaption})}



Sets max Current output at socket 1/3 in renewable mode and publishes new setpoint at \char`\"{}\+H\+A\+Nevse/photon\+Max\+C1\char`\"{} or C3. 



Definition at line 257 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References client, String\+::concat(), M\+Q\+T\+T\+::publish(), String\+::\+String(), and T\+E\+S\+T\+C\+A\+SE.



Referenced by get\+Measure\+\_\+callback().

\mbox{\Hypertarget{2020__photon__code_8cpp_a33435c28a8a11141750280aec8f15cbd}\label{2020__photon__code_8cpp_a33435c28a8a11141750280aec8f15cbd}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!max\+Current\+C2@{max\+Current\+C2}}
\index{max\+Current\+C2@{max\+Current\+C2}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{max\+Current\+C2()}{maxCurrentC2()}}
{\footnotesize\ttfamily int max\+Current\+C2 (\begin{DoxyParamCaption}\item[{\hyperlink{class_string}{String}}]{set\+Point\+Str }\end{DoxyParamCaption})}



Sets max Current output at socket 2 in manual mode. 



Definition at line 243 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References T\+E\+S\+T\+C\+A\+SE, and String\+::to\+Int().



Referenced by callback(), and switch\+Test().

\mbox{\Hypertarget{2020__photon__code_8cpp_aec0df453c6114acf2314a61fa0879eb7}\label{2020__photon__code_8cpp_aec0df453c6114acf2314a61fa0879eb7}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!max\+Current\+C2\+\_\+test@{max\+Current\+C2\+\_\+test}}
\index{max\+Current\+C2\+\_\+test@{max\+Current\+C2\+\_\+test}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{max\+Current\+C2\+\_\+test()}{maxCurrentC2\_test()}}
{\footnotesize\ttfamily int max\+Current\+C2\+\_\+test (\begin{DoxyParamCaption}\item[{unsigned int}]{set\+Point }\end{DoxyParamCaption})}



Sets max Current output at socket 2/4 in renewable mode and publishes new setpoint at \char`\"{}\+H\+A\+Nevse/photon\+Max\+C2\char`\"{} or C4. 



Definition at line 273 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References client, String\+::concat(), M\+Q\+T\+T\+::publish(), String\+::\+String(), and T\+E\+S\+T\+C\+A\+SE.



Referenced by get\+Measure\+\_\+callback().

\mbox{\Hypertarget{2020__photon__code_8cpp_ad7dc0d6376ca803542168e9adc0dec79}\label{2020__photon__code_8cpp_ad7dc0d6376ca803542168e9adc0dec79}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!prog\+Mode\+Olmx@{prog\+Mode\+Olmx}}
\index{prog\+Mode\+Olmx@{prog\+Mode\+Olmx}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{prog\+Mode\+Olmx()}{progModeOlmx()}}
{\footnotesize\ttfamily int prog\+Mode\+Olmx (\begin{DoxyParamCaption}\item[{\hyperlink{class_string}{String}}]{input }\end{DoxyParamCaption})}



Sets Olimex into programming mode. 



Definition at line 169 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References reset\+Olimex().

\mbox{\Hypertarget{2020__photon__code_8cpp_a1b9d7ee6530be2853b10dee40dc3c02c}\label{2020__photon__code_8cpp_a1b9d7ee6530be2853b10dee40dc3c02c}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!read\+R\+F\+I\+D\+Card@{read\+R\+F\+I\+D\+Card}}
\index{read\+R\+F\+I\+D\+Card@{read\+R\+F\+I\+D\+Card}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{read\+R\+F\+I\+D\+Card()}{readRFIDCard()}}
{\footnotesize\ttfamily bool read\+R\+F\+I\+D\+Card (\begin{DoxyParamCaption}\item[{int}]{Charger }\end{DoxyParamCaption})}



Checks and reads R\+F\+ID tag at the asked socket, then \hyperlink{class_m_q_t_t}{M\+Q\+TT} publishes it for Pi. 



Definition at line 581 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References Pianswer, String\+::substring(), U\+I\+Dtag\+Charger1, and U\+I\+Dtag\+Charger2.



Referenced by loop().

\mbox{\Hypertarget{2020__photon__code_8cpp_a37df00aa4f5618514442945d509f5029}\label{2020__photon__code_8cpp_a37df00aa4f5618514442945d509f5029}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!read\+Serial\+Olimex@{read\+Serial\+Olimex}}
\index{read\+Serial\+Olimex@{read\+Serial\+Olimex}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{read\+Serial\+Olimex()}{readSerialOlimex()}}
{\footnotesize\ttfamily int read\+Serial\+Olimex (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Function to read from Olimex serial port and run \hyperlink{_commandparser_8h_a5f5ebe01157b79c2f4383d42a3787168}{string\+Parse()} Returns the last charger socket it received data from. 

Definition at line 271 of file Commandparser.\+h.



References buff, bufpos, and string\+Parse().



Referenced by loop().

\mbox{\Hypertarget{2020__photon__code_8cpp_a3b8259e6f263afa75396d3f65d194a92}\label{2020__photon__code_8cpp_a3b8259e6f263afa75396d3f65d194a92}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!reconnect@{reconnect}}
\index{reconnect@{reconnect}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{reconnect()}{reconnect()}}
{\footnotesize\ttfamily void reconnect (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Function to reconnect to \hyperlink{class_m_q_t_t}{M\+Q\+TT} server if not connected and subscribe to needed topics. 



Definition at line 785 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References client, M\+Q\+T\+T\+::connect(), M\+Q\+T\+T\+::is\+Connected(), and M\+Q\+T\+T\+::subscribe().



Referenced by loop().

\mbox{\Hypertarget{2020__photon__code_8cpp_aea090791790fbe9e0f56d324c8eefa80}\label{2020__photon__code_8cpp_aea090791790fbe9e0f56d324c8eefa80}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!reset\+Olimex@{reset\+Olimex}}
\index{reset\+Olimex@{reset\+Olimex}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{reset\+Olimex()}{resetOlimex()}}
{\footnotesize\ttfamily int reset\+Olimex (\begin{DoxyParamCaption}\item[{\hyperlink{class_string}{String}}]{input }\end{DoxyParamCaption})}



Sends reset signal to EV charger controller. 



Definition at line 151 of file 2020\+\_\+photon\+\_\+code.\+cpp.



Referenced by callback(), and prog\+Mode\+Olmx().

\mbox{\Hypertarget{2020__photon__code_8cpp_ad62b79073819df234fbe97fd477a2c83}\label{2020__photon__code_8cpp_ad62b79073819df234fbe97fd477a2c83}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!reset\+Particle@{reset\+Particle}}
\index{reset\+Particle@{reset\+Particle}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{reset\+Particle()}{resetParticle()}}
{\footnotesize\ttfamily int reset\+Particle (\begin{DoxyParamCaption}\item[{\hyperlink{class_string}{String}}]{input }\end{DoxyParamCaption})}



Resets Photon. 



Definition at line 164 of file 2020\+\_\+photon\+\_\+code.\+cpp.



Referenced by callback().

\mbox{\Hypertarget{2020__photon__code_8cpp_a4fc01d736fe50cf5b977f755b675f11d}\label{2020__photon__code_8cpp_a4fc01d736fe50cf5b977f755b675f11d}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!setup@{setup}}
\index{setup@{setup}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{setup()}{setup()}}
{\footnotesize\ttfamily void setup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Inital setup for pin assignments and serial links start. 



Definition at line 830 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References init\+R\+F\+I\+D().

\mbox{\Hypertarget{2020__photon__code_8cpp_ad474dc90a6ac368a5be5a4e0d333c8b1}\label{2020__photon__code_8cpp_ad474dc90a6ac368a5be5a4e0d333c8b1}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!S\+T\+A\+R\+T\+UP@{S\+T\+A\+R\+T\+UP}}
\index{S\+T\+A\+R\+T\+UP@{S\+T\+A\+R\+T\+UP}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{S\+T\+A\+R\+T\+U\+P()}{STARTUP()}}
{\footnotesize\ttfamily S\+T\+A\+R\+T\+UP (\begin{DoxyParamCaption}\item[{Wi\+Fi.}]{select\+AntennaA\+N\+T\+\_\+\+E\+X\+T\+E\+R\+N\+AL }\end{DoxyParamCaption})}

\mbox{\Hypertarget{2020__photon__code_8cpp_ad0790b5517da1ecc7d9b128f1c5876a5}\label{2020__photon__code_8cpp_ad0790b5517da1ecc7d9b128f1c5876a5}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!switch\+Test@{switch\+Test}}
\index{switch\+Test@{switch\+Test}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{switch\+Test()}{switchTest()}}
{\footnotesize\ttfamily int switch\+Test (\begin{DoxyParamCaption}\item[{\hyperlink{class_string}{String}}]{value\+String }\end{DoxyParamCaption})}



Switches between renewable mode (-\/input \char`\"{}true\char`\"{}) and manual setpoint mode. 



Definition at line 215 of file 2020\+\_\+photon\+\_\+code.\+cpp.



References max\+Current\+C1(), max\+Current\+C2(), String\+::operator==(), and T\+E\+S\+T\+C\+A\+SE.



Referenced by callback().

\mbox{\Hypertarget{2020__photon__code_8cpp_adc2cf5dea5b7775d53532f2ccfa10f4c}\label{2020__photon__code_8cpp_adc2cf5dea5b7775d53532f2ccfa10f4c}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!Wifi\+Signal@{Wifi\+Signal}}
\index{Wifi\+Signal@{Wifi\+Signal}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{Wifi\+Signal()}{WifiSignal()}}
{\footnotesize\ttfamily int Wifi\+Signal (\begin{DoxyParamCaption}\item[{\hyperlink{class_string}{String}}]{input }\end{DoxyParamCaption})}



Return wifi strength. 



Definition at line 159 of file 2020\+\_\+photon\+\_\+code.\+cpp.



\subsection{Variable Documentation}
\mbox{\Hypertarget{2020__photon__code_8cpp_adb31c248dea8d23a099aa0dad886c3a5}\label{2020__photon__code_8cpp_adb31c248dea8d23a099aa0dad886c3a5}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!client@{client}}
\index{client@{client}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{client}{client}}
{\footnotesize\ttfamily \hyperlink{class_m_q_t_t}{M\+Q\+TT} client(\char`\"{}broker.\+hivemq.\+com\char`\"{}, 1883, M\+Q\+T\+T\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+K\+E\+E\+P\+A\+L\+I\+VE, \hyperlink{2020__photon__code_8cpp_ac3a129f66dc859e2b7279565f4e1de78}{callback}, 512)}



\hyperlink{class_m_q_t_t}{M\+Q\+TT} client details; do not set last number to over 512! 



Referenced by allow\+User\+\_\+callback(), loop(), max\+Current\+C1\+\_\+test(), max\+Current\+C2\+\_\+test(), and reconnect().

\mbox{\Hypertarget{2020__photon__code_8cpp_a617a47c70795bcff659815ad0efd2266}\label{2020__photon__code_8cpp_a617a47c70795bcff659815ad0efd2266}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!counter@{counter}}
\index{counter@{counter}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{counter}{counter}}
{\footnotesize\ttfamily int counter =1}



Definition at line 96 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_ac7a5502c6bab0b1b7f3e1bd58546eb1e}\label{2020__photon__code_8cpp_ac7a5502c6bab0b1b7f3e1bd58546eb1e}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!Current@{Current}}
\index{Current@{Current}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{Current}{Current}}
{\footnotesize\ttfamily float Current\mbox{[}2\mbox{]}\mbox{[}3\mbox{]}}



Definition at line 30 of file Commandparser.\+h.



Referenced by active\+Charger(), and string\+Parse().

\mbox{\Hypertarget{2020__photon__code_8cpp_acd950d6d9d76947b74823343a5f4a25d}\label{2020__photon__code_8cpp_acd950d6d9d76947b74823343a5f4a25d}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!Current\+List@{Current\+List}}
\index{Current\+List@{Current\+List}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{Current\+List}{CurrentList}}
{\footnotesize\ttfamily float Current\+List\mbox{[}20\mbox{]}}



Definition at line 36 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{2020__photon__code_8cpp_a3cc9a3f799bf2e4bf1b63ee7367911cb}\label{2020__photon__code_8cpp_a3cc9a3f799bf2e4bf1b63ee7367911cb}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!current\+Str@{current\+Str}}
\index{current\+Str@{current\+Str}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{current\+Str}{currentStr}}
{\footnotesize\ttfamily \hyperlink{class_string}{String} current\+Str =\char`\"{}\char`\"{}}



Definition at line 135 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_aee63a73e17fd417c7562f2e5d7c81cb8}\label{2020__photon__code_8cpp_aee63a73e17fd417c7562f2e5d7c81cb8}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!Energy@{Energy}}
\index{Energy@{Energy}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{Energy}{Energy}}
{\footnotesize\ttfamily float Energy\mbox{[}2\mbox{]}}



Definition at line 34 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{2020__photon__code_8cpp_ad8ee7ca82dcb110d2d5e32d73116b001}\label{2020__photon__code_8cpp_ad8ee7ca82dcb110d2d5e32d73116b001}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!Frequency@{Frequency}}
\index{Frequency@{Frequency}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{Frequency}{Frequency}}
{\footnotesize\ttfamily float Frequency\mbox{[}2\mbox{]}}



Definition at line 35 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{2020__photon__code_8cpp_a9e450e39c6f4d83b30ab1c7baf55b308}\label{2020__photon__code_8cpp_a9e450e39c6f4d83b30ab1c7baf55b308}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!handled\+Charger@{handled\+Charger}}
\index{handled\+Charger@{handled\+Charger}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{handled\+Charger}{handledCharger}}
{\footnotesize\ttfamily bool handled\+Charger =0}



Holds last handled socket (0 for first socket) 



Definition at line 102 of file 2020\+\_\+photon\+\_\+code.\+cpp.



Referenced by loop().

\mbox{\Hypertarget{2020__photon__code_8cpp_ad9f162f714be8b69815d0a235c95c099}\label{2020__photon__code_8cpp_ad9f162f714be8b69815d0a235c95c099}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!Latest\+Start\+Time@{Latest\+Start\+Time}}
\index{Latest\+Start\+Time@{Latest\+Start\+Time}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{Latest\+Start\+Time}{LatestStartTime}}
{\footnotesize\ttfamily unsigned long Latest\+Start\+Time\mbox{[}2\mbox{]} =\{0,0\}}



Holds latest start of new charge if charger is in use. 



Definition at line 100 of file 2020\+\_\+photon\+\_\+code.\+cpp.



Referenced by loop().

\mbox{\Hypertarget{2020__photon__code_8cpp_a97cf7b62d84c77183146053465157cdc}\label{2020__photon__code_8cpp_a97cf7b62d84c77183146053465157cdc}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!Line\+Voltage@{Line\+Voltage}}
\index{Line\+Voltage@{Line\+Voltage}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{Line\+Voltage}{LineVoltage}}
{\footnotesize\ttfamily float Line\+Voltage\mbox{[}2\mbox{]}\mbox{[}3\mbox{]}}



Definition at line 33 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{2020__photon__code_8cpp_a1777032818666232368a054cc7cc76f8}\label{2020__photon__code_8cpp_a1777032818666232368a054cc7cc76f8}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!mfrc522\+\_\+\+Charger1@{mfrc522\+\_\+\+Charger1}}
\index{mfrc522\+\_\+\+Charger1@{mfrc522\+\_\+\+Charger1}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{mfrc522\+\_\+\+Charger1}{mfrc522\_Charger1}}
{\footnotesize\ttfamily \hyperlink{class_m_f_r_c522}{M\+F\+R\+C522} mfrc522\+\_\+\+Charger1(\hyperlink{2020__photon__code_8cpp_a1e87c855c31041a5f4bca41f110ecb23}{S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R1}, \hyperlink{2020__photon__code_8cpp_a36932b0e869e0114f32e255f61306d6b}{R\+S\+T\+\_\+\+P\+IN})}

\mbox{\Hypertarget{2020__photon__code_8cpp_a3dfbf949915a0daa4ff676106f605085}\label{2020__photon__code_8cpp_a3dfbf949915a0daa4ff676106f605085}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!mfrc522\+\_\+\+Charger2@{mfrc522\+\_\+\+Charger2}}
\index{mfrc522\+\_\+\+Charger2@{mfrc522\+\_\+\+Charger2}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{mfrc522\+\_\+\+Charger2}{mfrc522\_Charger2}}
{\footnotesize\ttfamily \hyperlink{class_m_f_r_c522}{M\+F\+R\+C522} mfrc522\+\_\+\+Charger2(\hyperlink{2020__photon__code_8cpp_a5cb1ec604593003ff86b9e36162aeb1a}{S\+S\+\_\+\+P\+I\+N\+\_\+\+C\+H\+A\+R\+G\+E\+R2}, \hyperlink{2020__photon__code_8cpp_a36932b0e869e0114f32e255f61306d6b}{R\+S\+T\+\_\+\+P\+IN})}

\mbox{\Hypertarget{2020__photon__code_8cpp_a4e589466e8ba636e450e90122ed59185}\label{2020__photon__code_8cpp_a4e589466e8ba636e450e90122ed59185}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!next\+Time@{next\+Time}}
\index{next\+Time@{next\+Time}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{next\+Time}{nextTime}}
{\footnotesize\ttfamily unsigned int next\+Time\mbox{[}2\mbox{]} = \{30000,30000\}}



Next timestamp to publish measurements in ms. 



Definition at line 137 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_ab804d1dfcf90d1a4adf1b6417583e014}\label{2020__photon__code_8cpp_ab804d1dfcf90d1a4adf1b6417583e014}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!number\+Of\+Zero\+Readings@{number\+Of\+Zero\+Readings}}
\index{number\+Of\+Zero\+Readings@{number\+Of\+Zero\+Readings}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{number\+Of\+Zero\+Readings}{numberOfZeroReadings}}
{\footnotesize\ttfamily int number\+Of\+Zero\+Readings\mbox{[}2\mbox{]}}



Definition at line 37 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{2020__photon__code_8cpp_a5455bcadf3414330eeedd39d97e8aee2}\label{2020__photon__code_8cpp_a5455bcadf3414330eeedd39d97e8aee2}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!Phase\+Voltage@{Phase\+Voltage}}
\index{Phase\+Voltage@{Phase\+Voltage}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{Phase\+Voltage}{PhaseVoltage}}
{\footnotesize\ttfamily float Phase\+Voltage\mbox{[}2\mbox{]}\mbox{[}3\mbox{]}}



Definition at line 32 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{2020__photon__code_8cpp_a0cb29d1e3bc87d74d13737e494738243}\label{2020__photon__code_8cpp_a0cb29d1e3bc87d74d13737e494738243}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!Pianswer@{Pianswer}}
\index{Pianswer@{Pianswer}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{Pianswer}{Pianswer}}
{\footnotesize\ttfamily ushort Pianswer =0}



var that holds answer from Pi but is unused now 



Definition at line 110 of file 2020\+\_\+photon\+\_\+code.\+cpp.



Referenced by allow\+User\+\_\+callback(), and read\+R\+F\+I\+D\+Card().

\mbox{\Hypertarget{2020__photon__code_8cpp_ae0a1c20c390eb592307c92aa588bd232}\label{2020__photon__code_8cpp_ae0a1c20c390eb592307c92aa588bd232}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!Power@{Power}}
\index{Power@{Power}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{Power}{Power}}
{\footnotesize\ttfamily float Power\mbox{[}2\mbox{]}\mbox{[}3\mbox{]}}



Definition at line 31 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{2020__photon__code_8cpp_abc87df2ac47aa12b30692fd38255d367}\label{2020__photon__code_8cpp_abc87df2ac47aa12b30692fd38255d367}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!Share\+Var@{Share\+Var}}
\index{Share\+Var@{Share\+Var}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{Share\+Var}{ShareVar}}
{\footnotesize\ttfamily \hyperlink{class_string}{String} Share\+Var}



Definition at line 103 of file 2020\+\_\+photon\+\_\+code.\+cpp.

\mbox{\Hypertarget{2020__photon__code_8cpp_a3f4173fd4828d1d948935a30e1841263}\label{2020__photon__code_8cpp_a3f4173fd4828d1d948935a30e1841263}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!test@{test}}
\index{test@{test}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{test}{test}}
{\footnotesize\ttfamily \hyperlink{class_string}{String} test = \char`\"{}0\char`\"{}}



Definition at line 93 of file 2020\+\_\+photon\+\_\+code.\+cpp.



Referenced by callback().

\mbox{\Hypertarget{2020__photon__code_8cpp_a570e0c09591b015ae3748de87e467b9f}\label{2020__photon__code_8cpp_a570e0c09591b015ae3748de87e467b9f}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!T\+E\+S\+T\+C\+A\+SE@{T\+E\+S\+T\+C\+A\+SE}}
\index{T\+E\+S\+T\+C\+A\+SE@{T\+E\+S\+T\+C\+A\+SE}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{T\+E\+S\+T\+C\+A\+SE}{TESTCASE}}
{\footnotesize\ttfamily bool T\+E\+S\+T\+C\+A\+SE = false}



var that holds the charging mode (T\+R\+UE = renewable) 



Definition at line 107 of file 2020\+\_\+photon\+\_\+code.\+cpp.



Referenced by max\+Current\+C1(), max\+Current\+C1\+\_\+test(), max\+Current\+C2(), max\+Current\+C2\+\_\+test(), and switch\+Test().

\mbox{\Hypertarget{2020__photon__code_8cpp_ad7696488afa62029edaf7487c0c32979}\label{2020__photon__code_8cpp_ad7696488afa62029edaf7487c0c32979}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!U\+I\+Dtag\+Charger1@{U\+I\+Dtag\+Charger1}}
\index{U\+I\+Dtag\+Charger1@{U\+I\+Dtag\+Charger1}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{U\+I\+Dtag\+Charger1}{UIDtagCharger1}}
{\footnotesize\ttfamily \hyperlink{class_string}{String} U\+I\+Dtag\+Charger1 =\char`\"{}No ID\char`\"{}}



var to hold swiped R\+F\+ID tag at first socket 



Definition at line 51 of file 2020\+\_\+photon\+\_\+code.\+cpp.



Referenced by allow\+User\+\_\+callback(), get\+User\+Id\+At\+Socket(), loop(), and read\+R\+F\+I\+D\+Card().

\mbox{\Hypertarget{2020__photon__code_8cpp_ae42c45149b41b8f8cee744bb45a607ea}\label{2020__photon__code_8cpp_ae42c45149b41b8f8cee744bb45a607ea}} 
\index{2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}!U\+I\+Dtag\+Charger2@{U\+I\+Dtag\+Charger2}}
\index{U\+I\+Dtag\+Charger2@{U\+I\+Dtag\+Charger2}!2020\+\_\+photon\+\_\+code.\+cpp@{2020\+\_\+photon\+\_\+code.\+cpp}}
\subsubsection{\texorpdfstring{U\+I\+Dtag\+Charger2}{UIDtagCharger2}}
{\footnotesize\ttfamily \hyperlink{class_string}{String} U\+I\+Dtag\+Charger2 =\char`\"{}No ID\char`\"{}}



var to hold swiped R\+F\+ID tag at second socket 



Definition at line 53 of file 2020\+\_\+photon\+\_\+code.\+cpp.



Referenced by allow\+User\+\_\+callback(), get\+User\+Id\+At\+Socket(), loop(), and read\+R\+F\+I\+D\+Card().

