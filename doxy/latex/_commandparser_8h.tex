\hypertarget{_commandparser_8h}{}\section{src/\+Commandparser.h File Reference}
\label{_commandparser_8h}\index{src/\+Commandparser.\+h@{src/\+Commandparser.\+h}}
{\ttfamily \#include \char`\"{}Particle.\+h\char`\"{}}\newline
Include dependency graph for Commandparser.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=193pt]{_commandparser_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{_commandparser_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{_commandparser_8h_aeca034f67218340ecb2261a22c2f3dcd}{B\+U\+F\+S\+I\+ZE}~350
\item 
\#define \hyperlink{_commandparser_8h_ae6f3a1996e8ab3a0b1f9a5354e41db0f}{R\+S\+T\+T\+I\+M\+E\+O\+UT}~300000
\item 
\#define \hyperlink{_commandparser_8h_acbc24b500df51b97ae92c398a78f2257}{D\+E\+B\+U\+G\+P\+O\+RT}~Serial
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_commandparser_8h_a068724586d37805bff056bcc3c6f02bf}{Send} (\hyperlink{class_string}{String} \hyperlink{2020__photon__code_8cpp_a3f4173fd4828d1d948935a30e1841263}{test})
\item 
float \hyperlink{_commandparser_8h_a358a8d73afde3c6af9f2fbef0c156cf0}{bytes\+To\+Float} (unsigned char b0, unsigned char b1, unsigned char b2, unsigned char b3)
\item 
bool \hyperlink{_commandparser_8h_a7c2ba5e288dc8fd5bc2a455f375a223a}{bytes\+Arr\+To\+Float\+Arr} (char $\ast$Arr, unsigned int Arr\+Len, float $\ast$Output\+Arr, unsigned int Float\+Len)
\item 
int \hyperlink{_commandparser_8h_a5f5ebe01157b79c2f4383d42a3787168}{string\+Parse} (char $\ast$buf, int buflen)
\item 
int \hyperlink{_commandparser_8h_a37df00aa4f5618514442945d509f5029}{read\+Serial\+Olimex} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{_commandparser_8h_a985b9d8e8f815d1ff6aca787d5782a94}{readnext\+Line} = false
\item 
char \hyperlink{_commandparser_8h_aade3a58aeb7b5fe4c36ef119e7027a5f}{buff} \mbox{[}\hyperlink{_commandparser_8h_aeca034f67218340ecb2261a22c2f3dcd}{B\+U\+F\+S\+I\+ZE}\mbox{]}
\item 
int \hyperlink{_commandparser_8h_a9ae77be080d462d041a52c377da64482}{bufpos} = 0
\item 
unsigned long \hyperlink{_commandparser_8h_afbaeb9d17372ebc40b405fb8ce34dbbf}{last\+Upload} = 0
\item 
float \hyperlink{_commandparser_8h_ac7a5502c6bab0b1b7f3e1bd58546eb1e}{Current} \mbox{[}2\mbox{]}\mbox{[}3\mbox{]} =\{\{0,0,0\},\{0,0,0\}\}
\item 
float \hyperlink{_commandparser_8h_ae0a1c20c390eb592307c92aa588bd232}{Power} \mbox{[}2\mbox{]}\mbox{[}3\mbox{]} =\{\{0,0,0\},\{0,0,0\}\}
\item 
float \hyperlink{_commandparser_8h_a5455bcadf3414330eeedd39d97e8aee2}{Phase\+Voltage} \mbox{[}2\mbox{]}\mbox{[}3\mbox{]} =\{\{0,0,0\},\{0,0,0\}\}
\item 
float \hyperlink{_commandparser_8h_a97cf7b62d84c77183146053465157cdc}{Line\+Voltage} \mbox{[}2\mbox{]}\mbox{[}3\mbox{]} =\{\{0,0,0\},\{0,0,0\}\}
\item 
float \hyperlink{_commandparser_8h_aee63a73e17fd417c7562f2e5d7c81cb8}{Energy} \mbox{[}2\mbox{]} =\{0,0\}
\item 
float \hyperlink{_commandparser_8h_ad8ee7ca82dcb110d2d5e32d73116b001}{Frequency} \mbox{[}2\mbox{]} =\{0,0\}
\item 
float \hyperlink{_commandparser_8h_acd950d6d9d76947b74823343a5f4a25d}{Current\+List} \mbox{[}20\mbox{]}
\item 
int \hyperlink{_commandparser_8h_ab804d1dfcf90d1a4adf1b6417583e014}{number\+Of\+Zero\+Readings} \mbox{[}2\mbox{]} =\{0,0\}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{_commandparser_8h_aeca034f67218340ecb2261a22c2f3dcd}\label{_commandparser_8h_aeca034f67218340ecb2261a22c2f3dcd}} 
\index{Commandparser.\+h@{Commandparser.\+h}!B\+U\+F\+S\+I\+ZE@{B\+U\+F\+S\+I\+ZE}}
\index{B\+U\+F\+S\+I\+ZE@{B\+U\+F\+S\+I\+ZE}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{B\+U\+F\+S\+I\+ZE}{BUFSIZE}}
{\footnotesize\ttfamily \#define B\+U\+F\+S\+I\+ZE~350}



Definition at line 7 of file Commandparser.\+h.

\mbox{\Hypertarget{_commandparser_8h_acbc24b500df51b97ae92c398a78f2257}\label{_commandparser_8h_acbc24b500df51b97ae92c398a78f2257}} 
\index{Commandparser.\+h@{Commandparser.\+h}!D\+E\+B\+U\+G\+P\+O\+RT@{D\+E\+B\+U\+G\+P\+O\+RT}}
\index{D\+E\+B\+U\+G\+P\+O\+RT@{D\+E\+B\+U\+G\+P\+O\+RT}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{D\+E\+B\+U\+G\+P\+O\+RT}{DEBUGPORT}}
{\footnotesize\ttfamily \#define D\+E\+B\+U\+G\+P\+O\+RT~Serial}



Definition at line 9 of file Commandparser.\+h.

\mbox{\Hypertarget{_commandparser_8h_ae6f3a1996e8ab3a0b1f9a5354e41db0f}\label{_commandparser_8h_ae6f3a1996e8ab3a0b1f9a5354e41db0f}} 
\index{Commandparser.\+h@{Commandparser.\+h}!R\+S\+T\+T\+I\+M\+E\+O\+UT@{R\+S\+T\+T\+I\+M\+E\+O\+UT}}
\index{R\+S\+T\+T\+I\+M\+E\+O\+UT@{R\+S\+T\+T\+I\+M\+E\+O\+UT}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{R\+S\+T\+T\+I\+M\+E\+O\+UT}{RSTTIMEOUT}}
{\footnotesize\ttfamily \#define R\+S\+T\+T\+I\+M\+E\+O\+UT~300000}



Definition at line 8 of file Commandparser.\+h.



\subsection{Function Documentation}
\mbox{\Hypertarget{_commandparser_8h_a7c2ba5e288dc8fd5bc2a455f375a223a}\label{_commandparser_8h_a7c2ba5e288dc8fd5bc2a455f375a223a}} 
\index{Commandparser.\+h@{Commandparser.\+h}!bytes\+Arr\+To\+Float\+Arr@{bytes\+Arr\+To\+Float\+Arr}}
\index{bytes\+Arr\+To\+Float\+Arr@{bytes\+Arr\+To\+Float\+Arr}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{bytes\+Arr\+To\+Float\+Arr()}{bytesArrToFloatArr()}}
{\footnotesize\ttfamily bool bytes\+Arr\+To\+Float\+Arr (\begin{DoxyParamCaption}\item[{char $\ast$}]{Arr,  }\item[{unsigned int}]{Arr\+Len,  }\item[{float $\ast$}]{Output\+Arr,  }\item[{unsigned int}]{Float\+Len }\end{DoxyParamCaption})}

Function to convert an array of Olimex 4-\/byte values to float variables 

Definition at line 65 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{_commandparser_8h_a358a8d73afde3c6af9f2fbef0c156cf0}\label{_commandparser_8h_a358a8d73afde3c6af9f2fbef0c156cf0}} 
\index{Commandparser.\+h@{Commandparser.\+h}!bytes\+To\+Float@{bytes\+To\+Float}}
\index{bytes\+To\+Float@{bytes\+To\+Float}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{bytes\+To\+Float()}{bytesToFloat()}}
{\footnotesize\ttfamily float bytes\+To\+Float (\begin{DoxyParamCaption}\item[{unsigned char}]{b0,  }\item[{unsigned char}]{b1,  }\item[{unsigned char}]{b2,  }\item[{unsigned char}]{b3 }\end{DoxyParamCaption})}

Function to convert Olimex 4-\/byte value to float variable 

Definition at line 50 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{_commandparser_8h_a37df00aa4f5618514442945d509f5029}\label{_commandparser_8h_a37df00aa4f5618514442945d509f5029}} 
\index{Commandparser.\+h@{Commandparser.\+h}!read\+Serial\+Olimex@{read\+Serial\+Olimex}}
\index{read\+Serial\+Olimex@{read\+Serial\+Olimex}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{read\+Serial\+Olimex()}{readSerialOlimex()}}
{\footnotesize\ttfamily int read\+Serial\+Olimex (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Function to read from Olimex serial port and run \hyperlink{_commandparser_8h_a5f5ebe01157b79c2f4383d42a3787168}{string\+Parse()} Returns the last charger socket it received data from. 

Definition at line 271 of file Commandparser.\+h.



References buff, bufpos, and string\+Parse().



Referenced by loop().

\mbox{\Hypertarget{_commandparser_8h_a068724586d37805bff056bcc3c6f02bf}\label{_commandparser_8h_a068724586d37805bff056bcc3c6f02bf}} 
\index{Commandparser.\+h@{Commandparser.\+h}!Send@{Send}}
\index{Send@{Send}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{Send()}{Send()}}
{\footnotesize\ttfamily void Send (\begin{DoxyParamCaption}\item[{\hyperlink{class_string}{String}}]{test }\end{DoxyParamCaption})}

\mbox{\Hypertarget{_commandparser_8h_a5f5ebe01157b79c2f4383d42a3787168}\label{_commandparser_8h_a5f5ebe01157b79c2f4383d42a3787168}} 
\index{Commandparser.\+h@{Commandparser.\+h}!string\+Parse@{string\+Parse}}
\index{string\+Parse@{string\+Parse}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{string\+Parse()}{stringParse()}}
{\footnotesize\ttfamily int string\+Parse (\begin{DoxyParamCaption}\item[{char $\ast$}]{buf,  }\item[{int}]{buflen }\end{DoxyParamCaption})}

Function to parse Olimex message into energy measurements Returns the charger socket it received data from. 

Definition at line 107 of file Commandparser.\+h.



References bytes\+Arr\+To\+Float\+Arr(), bytes\+To\+Float(), Current, Current\+List, Energy, Frequency, Line\+Voltage, number\+Of\+Zero\+Readings, Phase\+Voltage, and Power.



Referenced by read\+Serial\+Olimex().



\subsection{Variable Documentation}
\mbox{\Hypertarget{_commandparser_8h_aade3a58aeb7b5fe4c36ef119e7027a5f}\label{_commandparser_8h_aade3a58aeb7b5fe4c36ef119e7027a5f}} 
\index{Commandparser.\+h@{Commandparser.\+h}!buff@{buff}}
\index{buff@{buff}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{buff}{buff}}
{\footnotesize\ttfamily char buff\mbox{[}\hyperlink{_commandparser_8h_aeca034f67218340ecb2261a22c2f3dcd}{B\+U\+F\+S\+I\+ZE}\mbox{]}}



Definition at line 14 of file Commandparser.\+h.



Referenced by read\+Serial\+Olimex().

\mbox{\Hypertarget{_commandparser_8h_a9ae77be080d462d041a52c377da64482}\label{_commandparser_8h_a9ae77be080d462d041a52c377da64482}} 
\index{Commandparser.\+h@{Commandparser.\+h}!bufpos@{bufpos}}
\index{bufpos@{bufpos}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{bufpos}{bufpos}}
{\footnotesize\ttfamily int bufpos = 0}



Definition at line 15 of file Commandparser.\+h.



Referenced by read\+Serial\+Olimex().

\mbox{\Hypertarget{_commandparser_8h_ac7a5502c6bab0b1b7f3e1bd58546eb1e}\label{_commandparser_8h_ac7a5502c6bab0b1b7f3e1bd58546eb1e}} 
\index{Commandparser.\+h@{Commandparser.\+h}!Current@{Current}}
\index{Current@{Current}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{Current}{Current}}
{\footnotesize\ttfamily float Current\mbox{[}2\mbox{]}\mbox{[}3\mbox{]} =\{\{0,0,0\},\{0,0,0\}\}}



Definition at line 30 of file Commandparser.\+h.



Referenced by active\+Charger(), and string\+Parse().

\mbox{\Hypertarget{_commandparser_8h_acd950d6d9d76947b74823343a5f4a25d}\label{_commandparser_8h_acd950d6d9d76947b74823343a5f4a25d}} 
\index{Commandparser.\+h@{Commandparser.\+h}!Current\+List@{Current\+List}}
\index{Current\+List@{Current\+List}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{Current\+List}{CurrentList}}
{\footnotesize\ttfamily float Current\+List\mbox{[}20\mbox{]}}



Definition at line 36 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{_commandparser_8h_aee63a73e17fd417c7562f2e5d7c81cb8}\label{_commandparser_8h_aee63a73e17fd417c7562f2e5d7c81cb8}} 
\index{Commandparser.\+h@{Commandparser.\+h}!Energy@{Energy}}
\index{Energy@{Energy}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{Energy}{Energy}}
{\footnotesize\ttfamily float Energy\mbox{[}2\mbox{]} =\{0,0\}}



Definition at line 34 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{_commandparser_8h_ad8ee7ca82dcb110d2d5e32d73116b001}\label{_commandparser_8h_ad8ee7ca82dcb110d2d5e32d73116b001}} 
\index{Commandparser.\+h@{Commandparser.\+h}!Frequency@{Frequency}}
\index{Frequency@{Frequency}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{Frequency}{Frequency}}
{\footnotesize\ttfamily float Frequency\mbox{[}2\mbox{]} =\{0,0\}}



Definition at line 35 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{_commandparser_8h_afbaeb9d17372ebc40b405fb8ce34dbbf}\label{_commandparser_8h_afbaeb9d17372ebc40b405fb8ce34dbbf}} 
\index{Commandparser.\+h@{Commandparser.\+h}!last\+Upload@{last\+Upload}}
\index{last\+Upload@{last\+Upload}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{last\+Upload}{lastUpload}}
{\footnotesize\ttfamily unsigned long last\+Upload = 0}



Definition at line 18 of file Commandparser.\+h.

\mbox{\Hypertarget{_commandparser_8h_a97cf7b62d84c77183146053465157cdc}\label{_commandparser_8h_a97cf7b62d84c77183146053465157cdc}} 
\index{Commandparser.\+h@{Commandparser.\+h}!Line\+Voltage@{Line\+Voltage}}
\index{Line\+Voltage@{Line\+Voltage}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{Line\+Voltage}{LineVoltage}}
{\footnotesize\ttfamily float Line\+Voltage\mbox{[}2\mbox{]}\mbox{[}3\mbox{]} =\{\{0,0,0\},\{0,0,0\}\}}



Definition at line 33 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{_commandparser_8h_ab804d1dfcf90d1a4adf1b6417583e014}\label{_commandparser_8h_ab804d1dfcf90d1a4adf1b6417583e014}} 
\index{Commandparser.\+h@{Commandparser.\+h}!number\+Of\+Zero\+Readings@{number\+Of\+Zero\+Readings}}
\index{number\+Of\+Zero\+Readings@{number\+Of\+Zero\+Readings}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{number\+Of\+Zero\+Readings}{numberOfZeroReadings}}
{\footnotesize\ttfamily int number\+Of\+Zero\+Readings\mbox{[}2\mbox{]} =\{0,0\}}



Definition at line 37 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{_commandparser_8h_a5455bcadf3414330eeedd39d97e8aee2}\label{_commandparser_8h_a5455bcadf3414330eeedd39d97e8aee2}} 
\index{Commandparser.\+h@{Commandparser.\+h}!Phase\+Voltage@{Phase\+Voltage}}
\index{Phase\+Voltage@{Phase\+Voltage}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{Phase\+Voltage}{PhaseVoltage}}
{\footnotesize\ttfamily float Phase\+Voltage\mbox{[}2\mbox{]}\mbox{[}3\mbox{]} =\{\{0,0,0\},\{0,0,0\}\}}



Definition at line 32 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{_commandparser_8h_ae0a1c20c390eb592307c92aa588bd232}\label{_commandparser_8h_ae0a1c20c390eb592307c92aa588bd232}} 
\index{Commandparser.\+h@{Commandparser.\+h}!Power@{Power}}
\index{Power@{Power}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{Power}{Power}}
{\footnotesize\ttfamily float Power\mbox{[}2\mbox{]}\mbox{[}3\mbox{]} =\{\{0,0,0\},\{0,0,0\}\}}



Definition at line 31 of file Commandparser.\+h.



Referenced by string\+Parse().

\mbox{\Hypertarget{_commandparser_8h_a985b9d8e8f815d1ff6aca787d5782a94}\label{_commandparser_8h_a985b9d8e8f815d1ff6aca787d5782a94}} 
\index{Commandparser.\+h@{Commandparser.\+h}!readnext\+Line@{readnext\+Line}}
\index{readnext\+Line@{readnext\+Line}!Commandparser.\+h@{Commandparser.\+h}}
\subsubsection{\texorpdfstring{readnext\+Line}{readnextLine}}
{\footnotesize\ttfamily bool readnext\+Line = false}



Definition at line 13 of file Commandparser.\+h.

