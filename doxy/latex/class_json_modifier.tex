\hypertarget{class_json_modifier}{}\section{Json\+Modifier Class Reference}
\label{class_json_modifier}\index{Json\+Modifier@{Json\+Modifier}}


Class for modifying a J\+S\+ON object in place, without needing to make a copy of it.  




{\ttfamily \#include $<$Json\+Parser\+Generator\+R\+K.\+h$>$}



Inheritance diagram for Json\+Modifier\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=152pt]{class_json_modifier__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Json\+Modifier\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_json_modifier__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_json_modifier_ac3d52284d9348720d59273bbbe228edf}{Json\+Modifier} (\hyperlink{class_json_parser}{Json\+Parser} \&\hyperlink{class_json_modifier_ab78d43036cea562e37640ae12e20b706}{jp})
\item 
virtual \hyperlink{class_json_modifier_a68e9b6a5b88ad4316fd1cb443cc0b11e}{$\sim$\+Json\+Modifier} ()
\item 
{\footnotesize template$<$class T $>$ }\\void \hyperlink{class_json_modifier_acca6028c0ec31489950f43e86c574229}{insert\+Or\+Update\+Key\+Value} (const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$container, const char $\ast$key, T value)
\begin{DoxyCompactList}\small\item\em Inserts or updates a key/value pair into an object. \end{DoxyCompactList}\item 
{\footnotesize template$<$class T $>$ }\\void \hyperlink{class_json_modifier_ac492f5945ef4e4bc003fea5af5b9c504}{append\+Array\+Value} (const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$array\+Token, T value)
\begin{DoxyCompactList}\small\item\em Appends a value to an array. \end{DoxyCompactList}\item 
bool \hyperlink{class_json_modifier_aadf76d2cef6b1a6ffe7868031cfb0e11}{remove\+Key\+Value} (const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$container, const char $\ast$key)
\begin{DoxyCompactList}\small\item\em Removes a key and value from an object. \end{DoxyCompactList}\item 
bool \hyperlink{class_json_modifier_aba45c4fe467fa70b837f190986cf190b}{remove\+Array\+Index} (const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$container, size\+\_\+t index)
\begin{DoxyCompactList}\small\item\em Removes an entry from an array. \end{DoxyCompactList}\item 
bool \hyperlink{class_json_modifier_aa53d66feb3cd13165f3a2eac012a123b}{start\+Modify} (const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$token)
\begin{DoxyCompactList}\small\item\em Low level function to modify a token in place. \end{DoxyCompactList}\item 
bool \hyperlink{class_json_modifier_ab5bf356377a71120588413a4be998607}{start\+Append} (const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$array\+Or\+Object\+Token)
\begin{DoxyCompactList}\small\item\em Low level function to append to an object or array. \end{DoxyCompactList}\item 
void \hyperlink{class_json_modifier_ae531232fa98f72eea8ea6ba07c065497}{finish} ()
\begin{DoxyCompactList}\small\item\em Finish modifying the object. \end{DoxyCompactList}\item 
\hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} \hyperlink{class_json_modifier_a5e685480ff2e978480cdc215b340e3a7}{token\+With\+Quotes} (const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$tok) const
\begin{DoxyCompactList}\small\item\em Return a copy of tok, but moving so start and end include the double quotes for strings. \end{DoxyCompactList}\item 
int \hyperlink{class_json_modifier_a5b67ce1041b0e40e467639de1eeeca1e}{find\+Left\+Comma} (const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$tok) const
\begin{DoxyCompactList}\small\item\em Find the offset of the comma to the left of the token, or -\/1 if there isn\textquotesingle{}t one. \end{DoxyCompactList}\item 
int \hyperlink{class_json_modifier_a24fac4c2257f932aff41792214de35ca}{find\+Right\+Comma} (const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$tok) const
\begin{DoxyCompactList}\small\item\em Find the offset of the comma to the left of the token, or -\/1 if there isn\textquotesingle{}t one. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_json_parser}{Json\+Parser} \& \hyperlink{class_json_modifier_ab78d43036cea562e37640ae12e20b706}{jp}
\begin{DoxyCompactList}\small\item\em The \hyperlink{class_json_parser}{Json\+Parser} object passed to the constructor. \end{DoxyCompactList}\item 
int \hyperlink{class_json_modifier_abd83b67763dc4ce55562bbdd5cea1e20}{start} = -\/1
\begin{DoxyCompactList}\small\item\em Start offset in the buffer. Set to -\/1 when \hyperlink{class_json_modifier_aa53d66feb3cd13165f3a2eac012a123b}{start\+Modify()} or \hyperlink{class_json_modifier_ab5bf356377a71120588413a4be998607}{start\+Append()} is not in progress. \end{DoxyCompactList}\item 
int \hyperlink{class_json_modifier_aec8c0683c15ad68dc1cb8180321bf902}{orig\+After} = 0
\begin{DoxyCompactList}\small\item\em Number of bytes after the insertion position, saved at save\+Loc when start is in progress. \end{DoxyCompactList}\item 
int \hyperlink{class_json_modifier_a7ea53418d660ce7cdec0964cca76015b}{save\+Loc} = 0
\begin{DoxyCompactList}\small\item\em Location where data is temporarily saved until \hyperlink{class_json_modifier_ae531232fa98f72eea8ea6ba07c065497}{finish()} is called. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Class for modifying a J\+S\+ON object in place, without needing to make a copy of it. 

Make sure the underlying \hyperlink{class_json_parser}{Json\+Parser} is big enough to hold the modified object. If you use Json\+Parser\+Static$<$$>$ make sure you have enough bytes and tokens.

The most commonly used method is \hyperlink{class_json_modifier_acca6028c0ec31489950f43e86c574229}{insert\+Or\+Update\+Key\+Value()}. This inserts or updates a key in an array. Another is \hyperlink{class_json_modifier_ac492f5945ef4e4bc003fea5af5b9c504}{append\+Array\+Value()} which appends a value to an array. Both methods are templated so you can use them with any valid type supported by \hyperlink{class_json_writer_ac58734c238ba7be066838591b0cc7743}{insert\+Value()} in \hyperlink{class_json_writer}{Json\+Writer}\+: bool, int, float, double, const char $\ast$.

This class is a subclass of \hyperlink{class_json_writer}{Json\+Writer}, so you can also use the low-\/level functions and \hyperlink{class_json_writer}{Json\+Writer} methods to do unusual object manipulations.

You can also use \hyperlink{class_json_modifier_aadf76d2cef6b1a6ffe7868031cfb0e11}{remove\+Key\+Value()} and \hyperlink{class_json_modifier_aba45c4fe467fa70b837f190986cf190b}{remove\+Array\+Index()} to remove keys or array entries. 

Definition at line 1323 of file Json\+Parser\+Generator\+R\+K.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_json_modifier_ac3d52284d9348720d59273bbbe228edf}\label{class_json_modifier_ac3d52284d9348720d59273bbbe228edf}} 
\index{Json\+Modifier@{Json\+Modifier}!Json\+Modifier@{Json\+Modifier}}
\index{Json\+Modifier@{Json\+Modifier}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{Json\+Modifier()}{JsonModifier()}}
{\footnotesize\ttfamily Json\+Modifier\+::\+Json\+Modifier (\begin{DoxyParamCaption}\item[{\hyperlink{class_json_parser}{Json\+Parser} \&}]{jp }\end{DoxyParamCaption})}



Definition at line 881 of file Json\+Parser\+Generator\+R\+K.\+cpp.



References jp.



Referenced by main().

\mbox{\Hypertarget{class_json_modifier_a68e9b6a5b88ad4316fd1cb443cc0b11e}\label{class_json_modifier_a68e9b6a5b88ad4316fd1cb443cc0b11e}} 
\index{Json\+Modifier@{Json\+Modifier}!````~Json\+Modifier@{$\sim$\+Json\+Modifier}}
\index{````~Json\+Modifier@{$\sim$\+Json\+Modifier}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{$\sim$\+Json\+Modifier()}{~JsonModifier()}}
{\footnotesize\ttfamily Json\+Modifier\+::$\sim$\+Json\+Modifier (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Definition at line 885 of file Json\+Parser\+Generator\+R\+K.\+cpp.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_json_modifier_ac492f5945ef4e4bc003fea5af5b9c504}\label{class_json_modifier_ac492f5945ef4e4bc003fea5af5b9c504}} 
\index{Json\+Modifier@{Json\+Modifier}!append\+Array\+Value@{append\+Array\+Value}}
\index{append\+Array\+Value@{append\+Array\+Value}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{append\+Array\+Value()}{appendArrayValue()}}
{\footnotesize\ttfamily template$<$class T $>$ \\
void Json\+Modifier\+::append\+Array\+Value (\begin{DoxyParamCaption}\item[{const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$}]{array\+Token,  }\item[{T}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Appends a value to an array. 

Uses templates so you can pass any type object that\textquotesingle{}s supported by \hyperlink{class_json_writer_ac58734c238ba7be066838591b0cc7743}{insert\+Value()} overloads, for example\+: bool, int, float, double, const char $\ast$.

To modify the outermost array, use jp.\+get\+Outer\+Array() for the array\+Token. You can also modify arrays in an object using get\+Value\+Token\+By\+Key().

Note\+: This method call jp.\+parse() so any jsmntok\+\_\+t may be changed by this method. If you\textquotesingle{}ve fetched one, such as by using get\+Value\+Token\+By\+Key() be sure to fetch it again to be safe. 

Definition at line 1363 of file Json\+Parser\+Generator\+R\+K.\+h.



References finish(), and start\+Append().



Referenced by main().

\mbox{\Hypertarget{class_json_modifier_a5b67ce1041b0e40e467639de1eeeca1e}\label{class_json_modifier_a5b67ce1041b0e40e467639de1eeeca1e}} 
\index{Json\+Modifier@{Json\+Modifier}!find\+Left\+Comma@{find\+Left\+Comma}}
\index{find\+Left\+Comma@{find\+Left\+Comma}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{find\+Left\+Comma()}{findLeftComma()}}
{\footnotesize\ttfamily int Json\+Modifier\+::find\+Left\+Comma (\begin{DoxyParamCaption}\item[{const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$}]{tok }\end{DoxyParamCaption}) const}



Find the offset of the comma to the left of the token, or -\/1 if there isn\textquotesingle{}t one. 

Used internally, you probably won\textquotesingle{}t need to use this. 

Definition at line 1058 of file Json\+Parser\+Generator\+R\+K.\+cpp.



References Json\+Buffer\+::get\+Buffer(), jp, Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t\+::start, and token\+With\+Quotes().



Referenced by main(), remove\+Array\+Index(), and remove\+Key\+Value().

\mbox{\Hypertarget{class_json_modifier_a24fac4c2257f932aff41792214de35ca}\label{class_json_modifier_a24fac4c2257f932aff41792214de35ca}} 
\index{Json\+Modifier@{Json\+Modifier}!find\+Right\+Comma@{find\+Right\+Comma}}
\index{find\+Right\+Comma@{find\+Right\+Comma}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{find\+Right\+Comma()}{findRightComma()}}
{\footnotesize\ttfamily int Json\+Modifier\+::find\+Right\+Comma (\begin{DoxyParamCaption}\item[{const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$}]{tok }\end{DoxyParamCaption}) const}



Find the offset of the comma to the left of the token, or -\/1 if there isn\textquotesingle{}t one. 

Used internally, you probably won\textquotesingle{}t need to use this. 

Definition at line 1077 of file Json\+Parser\+Generator\+R\+K.\+cpp.



References Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t\+::end, Json\+Buffer\+::get\+Buffer(), Json\+Buffer\+::get\+Offset(), jp, and token\+With\+Quotes().



Referenced by main(), remove\+Array\+Index(), and remove\+Key\+Value().

\mbox{\Hypertarget{class_json_modifier_ae531232fa98f72eea8ea6ba07c065497}\label{class_json_modifier_ae531232fa98f72eea8ea6ba07c065497}} 
\index{Json\+Modifier@{Json\+Modifier}!finish@{finish}}
\index{finish@{finish}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{finish()}{finish()}}
{\footnotesize\ttfamily void Json\+Modifier\+::finish (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Finish modifying the object. 

Finish must be called after start\+Modify or start\+Append otherwise the object will be corrupted.

Note\+: This method call jp.\+parse() so any jsmntok\+\_\+t may be changed by this method. If you\textquotesingle{}ve fetched one, such as by using get\+Value\+Token\+By\+Key() be sure to fetch it again to be safe.

The high level function like insert\+Or\+Update\+Key\+Value, append\+Array\+Value, remove\+Key\+Value, and remove\+Array\+Index internally call finish so you should not call it again with those methods. 

Definition at line 1033 of file Json\+Parser\+Generator\+R\+K.\+cpp.



References Json\+Buffer\+::get\+Buffer(), Json\+Buffer\+::get\+Offset(), jp, orig\+After, Json\+Parser\+::parse(), save\+Loc, Json\+Buffer\+::set\+Offset(), and start.



Referenced by append\+Array\+Value(), insert\+Or\+Update\+Key\+Value(), and main().

\mbox{\Hypertarget{class_json_modifier_acca6028c0ec31489950f43e86c574229}\label{class_json_modifier_acca6028c0ec31489950f43e86c574229}} 
\index{Json\+Modifier@{Json\+Modifier}!insert\+Or\+Update\+Key\+Value@{insert\+Or\+Update\+Key\+Value}}
\index{insert\+Or\+Update\+Key\+Value@{insert\+Or\+Update\+Key\+Value}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{insert\+Or\+Update\+Key\+Value()}{insertOrUpdateKeyValue()}}
{\footnotesize\ttfamily template$<$class T $>$ \\
void Json\+Modifier\+::insert\+Or\+Update\+Key\+Value (\begin{DoxyParamCaption}\item[{const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$}]{container,  }\item[{const char $\ast$}]{key,  }\item[{T}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Inserts or updates a key/value pair into an object. 

Uses templates so you can pass any type object that\textquotesingle{}s supported by \hyperlink{class_json_writer_ac58734c238ba7be066838591b0cc7743}{insert\+Value()} overloads, for example\+: bool, int, float, double, const char $\ast$.

To modify the outermost object, use jp.\+get\+Outer\+Object() for the container.

Note\+: This method call jp.\+parse() so any jsmntok\+\_\+t may be changed by this method. If you\textquotesingle{}ve fetched one, such as by using get\+Value\+Token\+By\+Key() be sure to fetch it again to be safe. 

Definition at line 1340 of file Json\+Parser\+Generator\+R\+K.\+h.



References finish(), remove\+Key\+Value(), and start\+Append().



Referenced by main().

\mbox{\Hypertarget{class_json_modifier_aba45c4fe467fa70b837f190986cf190b}\label{class_json_modifier_aba45c4fe467fa70b837f190986cf190b}} 
\index{Json\+Modifier@{Json\+Modifier}!remove\+Array\+Index@{remove\+Array\+Index}}
\index{remove\+Array\+Index@{remove\+Array\+Index}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{remove\+Array\+Index()}{removeArrayIndex()}}
{\footnotesize\ttfamily bool Json\+Modifier\+::remove\+Array\+Index (\begin{DoxyParamCaption}\item[{const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$}]{container,  }\item[{size\+\_\+t}]{index }\end{DoxyParamCaption})}



Removes an entry from an array. 

Note\+: This method call jp.\+parse() so any jsmntok\+\_\+t may be changed by this method. If you\textquotesingle{}ve fetched one, such as by using get\+Value\+Token\+By\+Key() be sure to fetch it again to be safe. 

Definition at line 944 of file Json\+Parser\+Generator\+R\+K.\+cpp.



References Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t\+::end, find\+Left\+Comma(), find\+Right\+Comma(), Json\+Buffer\+::get\+Buffer(), Json\+Buffer\+::get\+Offset(), Json\+Parser\+::get\+Token\+By\+Index(), jp, orig\+After, Json\+Parser\+::parse(), Json\+Buffer\+::set\+Offset(), Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t\+::start, and token\+With\+Quotes().



Referenced by main().

\mbox{\Hypertarget{class_json_modifier_aadf76d2cef6b1a6ffe7868031cfb0e11}\label{class_json_modifier_aadf76d2cef6b1a6ffe7868031cfb0e11}} 
\index{Json\+Modifier@{Json\+Modifier}!remove\+Key\+Value@{remove\+Key\+Value}}
\index{remove\+Key\+Value@{remove\+Key\+Value}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{remove\+Key\+Value()}{removeKeyValue()}}
{\footnotesize\ttfamily bool Json\+Modifier\+::remove\+Key\+Value (\begin{DoxyParamCaption}\item[{const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$}]{container,  }\item[{const char $\ast$}]{key }\end{DoxyParamCaption})}



Removes a key and value from an object. 

Note\+: This method call jp.\+parse() so any jsmntok\+\_\+t may be changed by this method. If you\textquotesingle{}ve fetched one, such as by using get\+Value\+Token\+By\+Key() be sure to fetch it again to be safe. 

Definition at line 890 of file Json\+Parser\+Generator\+R\+K.\+cpp.



References Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t\+::end, find\+Left\+Comma(), find\+Right\+Comma(), Json\+Buffer\+::get\+Buffer(), Json\+Buffer\+::get\+Offset(), Json\+Parser\+::get\+Value\+Token\+By\+Key(), jp, orig\+After, Json\+Parser\+::parse(), Json\+Buffer\+::set\+Offset(), Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t\+::start, and token\+With\+Quotes().



Referenced by insert\+Or\+Update\+Key\+Value(), and main().

\mbox{\Hypertarget{class_json_modifier_ab5bf356377a71120588413a4be998607}\label{class_json_modifier_ab5bf356377a71120588413a4be998607}} 
\index{Json\+Modifier@{Json\+Modifier}!start\+Append@{start\+Append}}
\index{start\+Append@{start\+Append}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{start\+Append()}{startAppend()}}
{\footnotesize\ttfamily bool Json\+Modifier\+::start\+Append (\begin{DoxyParamCaption}\item[{const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$}]{array\+Or\+Object\+Token }\end{DoxyParamCaption})}



Low level function to append to an object or array. 


\begin{DoxyParams}{Parameters}
{\em array\+Or\+Object\+Token} & the jsmntok\+\_\+t to append to. This must be an object or array token.\\
\hline
\end{DoxyParams}
You must call \hyperlink{class_json_modifier_ae531232fa98f72eea8ea6ba07c065497}{finish()} after modification is done to restore the object to a valid state. 

Definition at line 1009 of file Json\+Parser\+Generator\+R\+K.\+cpp.



References Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t\+::end, Json\+Buffer\+::get\+Buffer(), Json\+Buffer\+::get\+Buffer\+Len(), Json\+Buffer\+::get\+Offset(), Json\+Writer\+::init(), jp, orig\+After, save\+Loc, Json\+Buffer\+::set\+Buffer(), Json\+Writer\+::set\+Is\+First(), Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t\+::size, and start.



Referenced by append\+Array\+Value(), insert\+Or\+Update\+Key\+Value(), and main().

\mbox{\Hypertarget{class_json_modifier_aa53d66feb3cd13165f3a2eac012a123b}\label{class_json_modifier_aa53d66feb3cd13165f3a2eac012a123b}} 
\index{Json\+Modifier@{Json\+Modifier}!start\+Modify@{start\+Modify}}
\index{start\+Modify@{start\+Modify}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{start\+Modify()}{startModify()}}
{\footnotesize\ttfamily bool Json\+Modifier\+::start\+Modify (\begin{DoxyParamCaption}\item[{const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$}]{token }\end{DoxyParamCaption})}



Low level function to modify a token in place. 


\begin{DoxyParams}{Parameters}
{\em token} & the jsmntok\+\_\+t to modify\\
\hline
\end{DoxyParams}
You must call \hyperlink{class_json_modifier_ae531232fa98f72eea8ea6ba07c065497}{finish()} after modification is done to restore the object to a valid state!

Note\+: \hyperlink{class_json_modifier_acca6028c0ec31489950f43e86c574229}{insert\+Or\+Update\+Key\+Value()} does not use this. Instead it removes then appends the new value. The reason is that start\+Modify does not work if you change the type of the data to or from a string. This is tricky to deal with correctly, so it\textquotesingle{}s easier to just remove and add the item again. 

Definition at line 988 of file Json\+Parser\+Generator\+R\+K.\+cpp.



References Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t\+::end, Json\+Buffer\+::get\+Buffer(), Json\+Buffer\+::get\+Buffer\+Len(), Json\+Buffer\+::get\+Offset(), Json\+Writer\+::init(), jp, orig\+After, save\+Loc, Json\+Buffer\+::set\+Buffer(), Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t\+::start, and start.



Referenced by main().

\mbox{\Hypertarget{class_json_modifier_a5e685480ff2e978480cdc215b340e3a7}\label{class_json_modifier_a5e685480ff2e978480cdc215b340e3a7}} 
\index{Json\+Modifier@{Json\+Modifier}!token\+With\+Quotes@{token\+With\+Quotes}}
\index{token\+With\+Quotes@{token\+With\+Quotes}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{token\+With\+Quotes()}{tokenWithQuotes()}}
{\footnotesize\ttfamily \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} Json\+Modifier\+::token\+With\+Quotes (\begin{DoxyParamCaption}\item[{const \hyperlink{struct_json_parser_generator_r_k_1_1jsmntok__t}{Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t} $\ast$}]{tok }\end{DoxyParamCaption}) const}



Return a copy of tok, but moving so start and end include the double quotes for strings. 

Used internally, you probably won\textquotesingle{}t need to use this. 

Definition at line 1048 of file Json\+Parser\+Generator\+R\+K.\+cpp.



References Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t\+::end, Json\+Parser\+Generator\+R\+K\+::\+J\+S\+M\+N\+\_\+\+S\+T\+R\+I\+NG, Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t\+::start, and Json\+Parser\+Generator\+R\+K\+::jsmntok\+\_\+t\+::type.



Referenced by find\+Left\+Comma(), find\+Right\+Comma(), remove\+Array\+Index(), and remove\+Key\+Value().



\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_json_modifier_ab78d43036cea562e37640ae12e20b706}\label{class_json_modifier_ab78d43036cea562e37640ae12e20b706}} 
\index{Json\+Modifier@{Json\+Modifier}!jp@{jp}}
\index{jp@{jp}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{jp}{jp}}
{\footnotesize\ttfamily \hyperlink{class_json_parser}{Json\+Parser}\& Json\+Modifier\+::jp\hspace{0.3cm}{\ttfamily [protected]}}



The \hyperlink{class_json_parser}{Json\+Parser} object passed to the constructor. 



Definition at line 1447 of file Json\+Parser\+Generator\+R\+K.\+h.



Referenced by find\+Left\+Comma(), find\+Right\+Comma(), finish(), Json\+Modifier(), remove\+Array\+Index(), remove\+Key\+Value(), start\+Append(), and start\+Modify().

\mbox{\Hypertarget{class_json_modifier_aec8c0683c15ad68dc1cb8180321bf902}\label{class_json_modifier_aec8c0683c15ad68dc1cb8180321bf902}} 
\index{Json\+Modifier@{Json\+Modifier}!orig\+After@{orig\+After}}
\index{orig\+After@{orig\+After}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{orig\+After}{origAfter}}
{\footnotesize\ttfamily int Json\+Modifier\+::orig\+After = 0\hspace{0.3cm}{\ttfamily [protected]}}



Number of bytes after the insertion position, saved at save\+Loc when start is in progress. 



Definition at line 1449 of file Json\+Parser\+Generator\+R\+K.\+h.



Referenced by finish(), remove\+Array\+Index(), remove\+Key\+Value(), start\+Append(), and start\+Modify().

\mbox{\Hypertarget{class_json_modifier_a7ea53418d660ce7cdec0964cca76015b}\label{class_json_modifier_a7ea53418d660ce7cdec0964cca76015b}} 
\index{Json\+Modifier@{Json\+Modifier}!save\+Loc@{save\+Loc}}
\index{save\+Loc@{save\+Loc}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{save\+Loc}{saveLoc}}
{\footnotesize\ttfamily int Json\+Modifier\+::save\+Loc = 0\hspace{0.3cm}{\ttfamily [protected]}}



Location where data is temporarily saved until \hyperlink{class_json_modifier_ae531232fa98f72eea8ea6ba07c065497}{finish()} is called. 



Definition at line 1450 of file Json\+Parser\+Generator\+R\+K.\+h.



Referenced by finish(), start\+Append(), and start\+Modify().

\mbox{\Hypertarget{class_json_modifier_abd83b67763dc4ce55562bbdd5cea1e20}\label{class_json_modifier_abd83b67763dc4ce55562bbdd5cea1e20}} 
\index{Json\+Modifier@{Json\+Modifier}!start@{start}}
\index{start@{start}!Json\+Modifier@{Json\+Modifier}}
\subsubsection{\texorpdfstring{start}{start}}
{\footnotesize\ttfamily int Json\+Modifier\+::start = -\/1\hspace{0.3cm}{\ttfamily [protected]}}



Start offset in the buffer. Set to -\/1 when \hyperlink{class_json_modifier_aa53d66feb3cd13165f3a2eac012a123b}{start\+Modify()} or \hyperlink{class_json_modifier_ab5bf356377a71120588413a4be998607}{start\+Append()} is not in progress. 



Definition at line 1448 of file Json\+Parser\+Generator\+R\+K.\+h.



Referenced by finish(), start\+Append(), and start\+Modify().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/\+Json\+Parser\+Generator\+R\+K/src/\hyperlink{_json_parser_generator_r_k_8h}{Json\+Parser\+Generator\+R\+K.\+h}\item 
lib/\+Json\+Parser\+Generator\+R\+K/src/\hyperlink{_json_parser_generator_r_k_8cpp}{Json\+Parser\+Generator\+R\+K.\+cpp}\end{DoxyCompactItemize}
